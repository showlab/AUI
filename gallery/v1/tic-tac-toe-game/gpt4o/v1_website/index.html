<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roman Empire Tic Tac Toe - Enhanced</title>
  <style>
    /* General Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      font-family: 'Roboto', sans-serif;
      height: 100%;
      background: #ffffff;
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    h1 {
      font-size: 2rem;
      text-align: center;
      margin-bottom: 1rem;
    }

    /* Scoreboard Styling */
    #scoreboard {
      display: flex;
      justify-content: space-around;
      width: 90%;
      max-width: 500px;
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    .score {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Board Styling */
    .board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      width: 90%;
      max-width: 500px;
      aspect-ratio: 1;
    }

    .cell {
      background: #f8f8f8;
      border: 2px solid #000000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .cell:hover {
      background: #e0e0e0;
    }

    .cell.winning {
      background: gold;
    }

    /* Victory Banner */
    #banner {
      margin-top: 1rem;
      font-size: 1.5rem;
      text-align: center;
      visibility: hidden;
    }

    #banner.visible {
      visibility: visible;
    }

    /* Buttons */
    #controls {
      margin-top: 1rem;
      display: flex;
      gap: 10px;
    }

    .btn {
      padding: 10px 20px;
      background: #000000;
      color: #ffffff;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }

    .btn:hover {
      background: #444444;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .cell {
        font-size: 1.5rem;
      }

      #scoreboard {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <h1>Roman Empire Tic Tac Toe</h1>
  <div id="scoreboard">
    <div class="score">
      <span>Player X</span>
      <span id="scoreX">0</span>
    </div>
    <div class="score">
      <span>Player O</span>
      <span id="scoreO">0</span>
    </div>
    <div class="score">
      <span>Draws</span>
      <span id="scoreDraw">0</span>
    </div>
  </div>
  <div class="board" id="game-board">
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
    <div class="cell" data-cell></div>
  </div>
  <div id="banner"></div>
  <div id="controls">
    <button class="btn" id="new-round">New Round</button>
    <button class="btn" id="reset-scores">Reset Scores</button>
  </div>

  <script>
    const cells = document.querySelectorAll('[data-cell]');
    const board = document.getElementById('game-board');
    const scoreX = document.getElementById('scoreX');
    const scoreO = document.getElementById('scoreO');
    const scoreDraw = document.getElementById('scoreDraw');
    const banner = document.getElementById('banner');
    const newRoundButton = document.getElementById('new-round');
    const resetScoresButton = document.getElementById('reset-scores');

    let currentPlayer = 'X';
    let boardState = ['', '', '', '', '', '', '', '', ''];
    let gameActive = true;

    const WINNING_COMBINATIONS = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
      [0, 4, 8],
      [2, 4, 6],
    ];

    function handleCellClick(e) {
      const cell = e.target;
      const cellIndex = Array.from(cells).indexOf(cell);

      if (boardState[cellIndex] !== '' || !gameActive) {
        return;
      }

      boardState[cellIndex] = currentPlayer;
      cell.textContent = currentPlayer;

      if (checkWin()) {
        endGame(false);
      } else if (boardState.every(cell => cell !== '')) {
        endGame(true);
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      }
    }

    function checkWin() {
      return WINNING_COMBINATIONS.some(combination => {
        return combination.every(index => {
          return boardState[index] === currentPlayer;
        });
      });
    }

    function endGame(draw) {
      gameActive = false;
      if (draw) {
        banner.textContent = "It's a draw!";
        banner.classList.add('visible');
        scoreDraw.textContent = parseInt(scoreDraw.textContent) + 1;
      } else {
        banner.textContent = `${currentPlayer} wins!`;
        banner.classList.add('visible');
        if (currentPlayer === 'X') {
          scoreX.textContent = parseInt(scoreX.textContent) + 1;
        } else {
          scoreO.textContent = parseInt(scoreO.textContent) + 1;
        }
        highlightWinningCells();
      }
    }

    function highlightWinningCells() {
      WINNING_COMBINATIONS.forEach(combination => {
        if (combination.every(index => boardState[index] === currentPlayer)) {
          combination.forEach(index => {
            cells[index].classList.add('winning');
          });
        }
      });
    }

    function resetBoard() {
      boardState = ['', '', '', '', '', '', '', '', ''];
      gameActive = true;
      currentPlayer = 'X';
      cells.forEach(cell => {
        cell.textContent = '';
        cell.classList.remove('winning');
      });
      banner.textContent = '';
      banner.classList.remove('visible');
    }

    function resetScores() {
      scoreX.textContent = '0';
      scoreO.textContent = '0';
      scoreDraw.textContent = '0';
    }

    cells.forEach(cell => cell.addEventListener('click', handleCellClick));
    newRoundButton.addEventListener('click', resetBoard);
    resetScoresButton.addEventListener('click', resetScores);
  </script>
</body>
</html>