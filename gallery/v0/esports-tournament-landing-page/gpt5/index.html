<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Esports Tournament</title>
<meta name="description" content="Neon, high-contrast esports tournament landing page with interactive bracket, schedule, teams, stream, travel and more." />
<style>
  :root{
    --bg:#070812;
    --bg-alt:#0c0f1f;
    --panel:#0f1230;
    --text:#e8f7ff;
    --muted:#9fb7c7;
    --neon1:#00f0ff;
    --neon2:#ff00e6;
    --accent:#24ff6d;
    --warn:#ff8a00;
    --danger:#ff3b6b;
    --good:#24ff6d;
    --shadow:0 0 30px rgba(0,240,255,.2), 0 0 60px rgba(255,0,230,.12);
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    color:var(--text);
    background:radial-gradient(1200px 800px at 20% -10%, rgba(255,0,230,.08), transparent 60%), radial-gradient(1000px 800px at 120% -30%, rgba(0,240,255,.08), transparent 60%), var(--bg);
    line-height:1.35;
  }
  a{color:var(--neon1); text-decoration:none}
  a:hover{text-decoration:underline}
  header{
    position:fixed; top:0; left:0; right:0; z-index:50;
    background:linear-gradient(180deg, rgba(7,8,18,.9), rgba(7,8,18,.6) 60%, transparent);
    backdrop-filter: blur(8px);
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  .nav{
    max-width:1200px; margin:0 auto; padding:12px 20px; display:flex; align-items:center; gap:18px; justify-content:space-between;
  }
  .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.6px}
  .brand .logo{
    width:32px; height:32px; border-radius:50%; background:
      conic-gradient(from 210deg, var(--neon1), var(--neon2), var(--neon1));
    box-shadow:0 0 18px rgba(0,240,255,.65), inset 0 0 18px rgba(255,0,230,.35);
    border:1px solid rgba(255,255,255,.2)
  }
  .navlinks{display:flex; gap:16px; flex-wrap:wrap}
  .navlinks a{padding:8px 10px; border-radius:10px; color:var(--text)}
  .navlinks a:focus{outline:2px solid var(--neon1); outline-offset:2px}
  .btn{
    appearance:none; border:none; cursor:pointer; color:#001016; font-weight:800;
    padding:12px 18px; border-radius:12px; background:linear-gradient(90deg, var(--neon1), var(--neon2));
    box-shadow: var(--shadow);
  }
  .btn:hover{filter:brightness(1.08)}
  .btn.secondary{
    color:var(--text); background:transparent; border:1px solid rgba(255,255,255,.2);
    box-shadow:none
  }
  .btn.ghost{background:transparent; color:var(--neon1); border:1px solid var(--neon1)}
  .section{max-width:1200px; margin:0 auto; padding:80px 20px}
  /* HERO */
  #hero{
    position:relative; padding-top:90px; overflow:hidden; min-height:72vh; display:grid; place-items:center; text-align:center
  }
  #heroCanvas{position:absolute; inset:0; width:100%; height:100%}
  #hero .scanlines::after{
    content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen;
    background: repeating-linear-gradient(to bottom, rgba(255,255,255,.04) 0 2px, transparent 2px 4px);
  }
  .hero-inner{position:relative; z-index:1; max-width:1000px; padding:44px 20px}
  .headline{
    font-size: clamp(34px, 6vw, 66px);
    line-height:1.0; font-weight:900;
    text-shadow: 0 0 18px rgba(255,0,230,.25), 0 0 30px rgba(0,240,255,.25)
  }
  .headline .neon{
    background: linear-gradient(90deg, var(--neon1), var(--neon2));
    -webkit-background-clip: text; background-clip:text; color:transparent;
    filter: drop-shadow(0 0 14px rgba(0,240,255,.35));
  }
  .herosub{color:var(--muted); margin-top:10px}
  .cta-row{margin-top:24px; display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
  /* BRACKET */
  #bracket{position:relative}
  .sec-head{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; margin-bottom:16px}
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.08);
    border-radius: var(--radius);
    padding:14px;
    box-shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 0 1px rgba(255,255,255,.12)
  }
  .controls{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  select, .switch{
    background: var(--bg-alt); color:var(--text);
    border:1px solid rgba(255,255,255,.18); border-radius:10px; padding:10px 12px; font-weight:600
  }
  .bracket-wrap{
    display:grid; grid-template-columns: repeat(4, minmax(220px,1fr)); gap:16px; align-items:stretch; overflow-x:auto; padding-bottom:8px
  }
  .round-title{font-weight:800; color:var(--muted); text-transform:uppercase; letter-spacing:1px; font-size:12px; margin-bottom:8px}
  .match{position:relative; padding:8px; border-radius:12px; background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); margin:10px 0; transition:transform .15s ease, border-color .15s ease}
  .match:hover{transform: translateY(-2px); border-color: rgba(0,240,255,.4)}
  .slot{
    display:flex; align-items:center; justify-content:space-between; gap:10px; padding:8px; border-radius:10px;
    border:1px dashed rgba(255,255,255,.08); margin:6px 0; cursor:pointer; transition:background .15s ease, border-color .15s ease, filter .15s ease
  }
  .slot:hover{background:rgba(0,240,255,.06); border-color:rgba(0,240,255,.5)}
  .slot.winner{background:linear-gradient(90deg, rgba(36,255,109,.17), transparent); border-style:solid; border-color:rgba(36,255,109,.6)}
  .slot .team{
    display:flex; align-items:center; gap:10px; min-width:0;
  }
  .logo{
    width:26px; height:26px; border-radius:50%; flex:0 0 auto;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent 40%), conic-gradient(var(--neon1), var(--neon2), var(--neon1));
    box-shadow: 0 0 16px rgba(255,0,230,.35), inset 0 0 8px rgba(0,240,255,.35);
    display:grid; place-items:center; color:#001016; font-weight:900; font-size:12px; letter-spacing:0.5px
  }
  .team .name{font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
  .time{color:var(--muted); font-size:12px}
  /* SCHEDULE */
  .filters{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px}
  .schedule-list{display:grid; grid-template-columns:1fr; gap:10px}
  .sched-item{display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center}
  .sched-item .meta{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
  .badge{padding:4px 8px; border:1px solid rgba(255,255,255,.18); border-radius:20px; font-size:12px; color:var(--muted)}
  .timezone-note{color:var(--muted); font-size:12px; margin-top:6px}
  /* TEAMS */
  .grid{display:grid; gap:14px}
  @media(min-width:720px){ .grid.cols-3{grid-template-columns:repeat(3,1fr)} }
  @media(min-width:980px){ .grid.cols-4{grid-template-columns:repeat(4,1fr)} }
  .team-card{position:relative}
  .flag{font-size:16px}
  .form-dots{display:flex; gap:4px}
  .dot{width:8px; height:8px; border-radius:50%}
  .dot.w{background:var(--good)}
  .dot.l{background:var(--danger)}
  .compare-toggle{position:absolute; top:10px; right:10px}
  #comparePanel{position:sticky; top:72px; z-index:5; background:rgba(12,15,31,.8); border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:12px; box-shadow:var(--shadow); display:none}
  #comparePanel.active{display:block}
  /* STREAM */
  .player{position:relative; background:#000; border-radius:14px; overflow:hidden; aspect-ratio:16/9; display:grid; place-items:center; border:1px solid rgba(255,255,255,.12)}
  .player .play{position:absolute; z-index:2; padding:14px 20px; border-radius:999px; background:linear-gradient(90deg, var(--neon1), var(--neon2)); border:none; font-weight:900; cursor:pointer}
  .player .scrim{
    position:absolute; inset:0; background:
      radial-gradient(circle at 30% 40%, rgba(255,0,230,.2), transparent 55%),
      radial-gradient(circle at 70% 60%, rgba(0,240,255,.2), transparent 55%),
      linear-gradient(180deg, #010104, #0c0f1f);
    filter:contrast(1.2) saturate(1.2)
  }
  .ticker{margin-top:10px; border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:8px 12px; display:flex; align-items:center; gap:10px; overflow:hidden; background:rgba(255,255,255,.03)}
  .ticker .pill{padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid rgba(255,255,255,.2)}
  .ticker #nowNextTicker{white-space:nowrap; animation: marquee 16s linear infinite}
  @keyframes marquee { from{transform:translateX(0)} to{transform:translateX(-50%)} }
  .sponsors{margin-top:12px; border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:8px; overflow:hidden}
  .sponsor-track{display:flex; gap:24px; white-space:nowrap; animation: marquee 24s linear infinite}
  .sponsor{min-width:120px; height:40px; border-radius:10px; background:linear-gradient(90deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12); display:grid; place-items:center; color:var(--muted); font-weight:700; letter-spacing:.5px}
  /* VENUE */
  .venue-wrap{display:grid; gap:14px}
  @media(min-width:900px){ .venue-wrap{grid-template-columns: 1.2fr .8fr} }
  .map{
    aspect-ratio:16/9; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,.12); background:#0b0f1a
  }
  .hotels li{margin:6px 0}
  /* SOCIAL PROOF */
  .kpis{display:flex; gap:16px; flex-wrap:wrap}
  .kpi{flex:1 1 180px; border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:12px; text-align:center; background:rgba(255,255,255,.03)}
  .kpi .num{font-size:28px; font-weight:900; background:linear-gradient(90deg,var(--neon1), var(--neon2)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .carousel{position:relative; overflow:hidden; border:1px solid rgba(255,255,255,.12); border-radius:12px}
  .slides{display:flex; transition: transform .5s ease}
  .slide{min-width:100%; padding:18px; background:rgba(255,255,255,.03)}
  .carousel .nav{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding:0 6px; pointer-events:none
  }
  .carousel .nav button{pointer-events:auto; background:rgba(0,0,0,.4); color:var(--text); border:1px solid rgba(255,255,255,.2); border-radius:50%; width:36px; height:36px; cursor:pointer}
  /* FOOTER */
  footer{background:#070914; border-top:1px solid rgba(255,255,255,.1)}
  .faqs details{border:1px solid rgba(255,255,255,.12); border-radius:12px; margin:10px 0; padding:10px}
  .faqs summary{cursor:pointer; font-weight:700}
  .footer-grid{display:grid; gap:16px}
  @media(min-width:900px){ .footer-grid{grid-template-columns: 1fr 1fr} }
  .contact form{display:grid; gap:10px}
  input, textarea{
    background:var(--bg-alt); color:var(--text); border:1px solid rgba(255,255,255,.18);
    border-radius:10px; padding:10px 12px; font-size:14px
  }
  textarea{min-height:100px; resize:vertical}
  .note{font-size:12px; color:var(--muted)}
  /* MODAL */
  .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.6); z-index:60}
  .modal.active{display:grid}
  .modal .dialog{background:var(--bg-alt); border:1px solid rgba(255,255,255,.2); border-radius:14px; padding:16px; width:min(92vw,480px); box-shadow:var(--shadow)}
  .modal .dialog header{position:static; background:transparent; border:none; padding:0; margin-bottom:6px}
  .row{display:flex; gap:10px}
  .row > *{flex:1}
  /* STICKY CTA */
  #stickyBuy{position:fixed; left:0; right:0; bottom:12px; margin:auto; width:calc(100% - 24px); max-width:520px; z-index:55; display:none}
  @media(max-width:720px){ #stickyBuy{display:block} }
  /* REDUCED MOTION */
  @media (prefers-reduced-motion: reduce){
    .sponsor-track, .ticker #nowNextTicker{animation:none}
  }
</style>
</head>
<body>
<header aria-label="Site header">
  <div class="nav">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>Esports Tournament</div>
    </div>
    <nav class="navlinks" aria-label="Primary">
      <a href="#bracket">Bracket</a>
      <a href="#schedule">Schedule</a>
      <a href="#teams">Teams</a>
      <a href="#stream">Stream</a>
      <a href="#venue">Venue</a>
      <a href="#social">Highlights</a>
      <a href="#contact">Contact</a>
    </nav>
    <button id="btnGetTickets" class="btn" aria-label="Get Tickets">Get Tickets</button>
  </div>
</header>

<main>
  <section id="hero" class="section scanlines" aria-label="Hero">
    <canvas id="heroCanvas" aria-hidden="true"></canvas>
    <div class="hero-inner">
      <div class="headline">
        The <span class="neon">Neon Circuit</span> Invitational
      </div>
      <div class="herosub">
        Live at Lumina Arena ‚Ä¢ October 18‚Äì20 ‚Ä¢ Presented by HYPERCORE
      </div>
      <div class="cta-row">
        <button id="btnRegisterTeam" class="btn ghost">Register Team</button>
        <button id="btnTicketsHero" class="btn">Get Tickets</button>
        <button id="btnWatchLive" class="btn secondary">Watch Live</button>
      </div>
    </div>
  </section>

  <section id="bracket" class="section" aria-label="Tournament Bracket">
    <div class="sec-head">
      <h2>Interactive Bracket</h2>
      <div class="controls">
        <label for="bracketSizeSelect" class="badge">Bracket Size</label>
        <select id="bracketSizeSelect" aria-label="Bracket size select">
          <option value="16">16 Teams</option>
          <option value="8">8 Teams</option>
        </select>
        <button id="bracketAuto" class="btn secondary" aria-pressed="false">Auto-Advance: Off</button>
        <button id="bracketReset" class="btn secondary">Reset</button>
      </div>
    </div>
    <div id="bracketRoot" class="bracket-wrap" role="region" aria-live="polite"></div>
    <div class="timezone-note">Times shown in your timezone: <span id="tzName"></span></div>
  </section>

  <section id="schedule" class="section" aria-label="Schedule">
    <div class="sec-head">
      <h2>Schedule</h2>
      <div class="filters">
        <label for="scheduleStageFilter" class="badge">Stage</label>
        <select id="scheduleStageFilter" aria-label="Filter by stage">
          <option value="all">All</option>
          <option value="Groups">Groups</option>
          <option value="Playoffs">Playoffs</option>
          <option value="Finals">Finals</option>
        </select>
        <label for="scheduleDayFilter" class="badge">Day</label>
        <select id="scheduleDayFilter" aria-label="Filter by day"></select>
      </div>
    </div>
    <div id="scheduleList" class="schedule-list" role="list"></div>
  </section>

  <section id="teams" class="section" aria-label="Teams">
    <div class="sec-head">
      <h2>Teams & Rosters</h2>
      <div class="controls">
        <span class="badge">Quick Compare: select two teams</span>
      </div>
    </div>
    <div id="comparePanel" class="card" aria-live="polite">
      <div class="row" style="align-items:center; justify-content:space-between">
        <strong>Compare</strong>
        <button id="btnClearCompare" class="btn secondary" style="padding:6px 10px">Clear</button>
      </div>
      <div id="compareContent" class="grid" style="grid-template-columns:1fr 1fr; gap:10px; margin-top:10px"></div>
    </div>
    <div id="teamsGrid" class="grid cols-4" role="list"></div>
  </section>

  <section id="stream" class="section" aria-label="Live Stream">
    <div class="sec-head">
      <h2>Stream Preview</h2>
      <div class="controls">
        <span class="badge">Live coverage all weekend</span>
      </div>
    </div>
    <div class="player card" role="region" aria-label="Video player">
      <button id="streamPlay" class="play" aria-label="Play stream">‚ñ∂ Play</button>
      <div class="scrim" aria-hidden="true"></div>
      <svg viewBox="0 0 100 56" preserveAspectRatio="none" style="position:absolute; inset:0; opacity:.25">
        <defs>
          <linearGradient id="lg" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#00f0ff"/>
            <stop offset="1" stop-color="#ff00e6"/>
          </linearGradient>
        </defs>
        <rect x="4" y="4" width="92" height="48" fill="none" stroke="url(#lg)" stroke-width="0.8" rx="4"/>
        <g stroke="url(#lg)" stroke-opacity="0.3" stroke-width="0.3">
          <line x1="0" y1="28" x2="100" y2="28" />
          <line x1="50" y1="0" x2="50" y2="56" />
        </g>
      </svg>
    </div>
    <div class="ticker">
      <span class="pill" aria-label="Now">Now</span>
      <div id="nowNextTicker" aria-live="polite">Neon Knights vs Cyber Cobras ‚Ä¢ Quarterfinal ‚Ä¢ Next: Omega Owls vs Vortex Vipers ‚Ä¢ Quarterfinal ‚Ä¢ Neon Knights vs Cyber Cobras ‚Ä¢ Quarterfinal ‚Ä¢ Next: Omega Owls vs Vortex Vipers ‚Ä¢ Quarterfinal ‚Ä¢</div>
    </div>
    <div class="sponsors" aria-label="Sponsors">
      <div id="sponsorCarousel" class="sponsor-track">
        <div class="sponsor">HYPERCORE</div>
        <div class="sponsor">PIXELPRO</div>
        <div class="sponsor">LUMINA</div>
        <div class="sponsor">NITROWARE</div>
        <div class="sponsor">CYBRX</div>
        <div class="sponsor">METAFOAM</div>
        <div class="sponsor">OVERDRIVE</div>
        <div class="sponsor">QUANTIC</div>
        <div class="sponsor">HYPERCORE</div>
        <div class="sponsor">PIXELPRO</div>
      </div>
    </div>
  </section>

  <section id="venue" class="section" aria-label="Venue and Travel">
    <div class="sec-head">
      <h2>Venue & Travel</h2>
      <div class="controls"><span class="badge">Lumina Arena ‚Ä¢ Downtown</span></div>
    </div>
    <div class="venue-wrap">
      <div class="map" role="img" aria-label="Map of the venue area">
        <svg viewBox="0 0 1200 675" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="m1" x1="0" x2="1"><stop offset="0" stop-color="#00f0ff" stop-opacity=".25"/><stop offset="1" stop-color="#ff00e6" stop-opacity=".25"/></linearGradient>
          </defs>
          <rect width="1200" height="675" fill="#0b0f1a"/>
          <g stroke="#1a2a40" stroke-width="2">
            <path d="M0,100 H1200 M0,200 H1200 M0,300 H1200 M0,400 H1200 M0,500 H1200" />
            <path d="M150,0 V675 M300,0 V675 M450,0 V675 M600,0 V675 M750,0 V675 M900,0 V675" />
          </g>
          <g>
            <rect x="550" y="280" width="180" height="110" rx="12" fill="url(#m1)" stroke="#00f0ff" stroke-opacity=".6"/>
            <text x="640" y="340" text-anchor="middle" font-family="sans-serif" font-weight="800" fill="#e8f7ff">LUMINA ARENA</text>
          </g>
          <g fill="none" stroke="#24ff6d" stroke-width="3">
            <circle cx="300" cy="180" r="20" />
            <path d="M320 180 L550 300" />
          </g>
        </svg>
      </div>
      <div>
        <div class="card">
          <strong>Directions</strong>
          <ul>
            <li><a href="https://maps.google.com/?q=Lumina+Arena" target="_blank" rel="noopener">Open in Google Maps</a></li>
            <li>Transit: Line 2 to Center Station, 5 min walk</li>
            <li>Ride-share: Drop-off on 5th & Neon Ave</li>
            <li>Parking: P1 & P2 garages (pre-book recommended)</li>
          </ul>
        </div>
        <div class="card" style="margin-top:10px">
          <strong>Hotels</strong>
          <ul class="hotels">
            <li><a href="#" rel="nofollow">Hotel Radiant ‚Äî 2 blocks away</a></li>
            <li><a href="#" rel="nofollow">Neon Suites ‚Äî across from arena</a></li>
            <li><a href="#" rel="nofollow">Quantum Inn ‚Äî budget friendly</a></li>
          </ul>
        </div>
        <div class="card" style="margin-top:10px">
          <strong>Accessibility & Safety</strong>
          <ul>
            <li>ADA seating and entrances available</li>
            <li>Quiet room available on Level 2</li>
            <li>Bag policy: small clear bags only</li>
            <li>Security screening at all entrances</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="social" class="section" aria-label="Social Proof and Highlights">
    <div class="sec-head">
      <h2>Community & Highlights</h2>
      <div class="controls"><span class="badge">Join the hype</span></div>
    </div>
    <div class="kpis">
      <div class="kpi" aria-label="Followers">
        <div class="num" id="followersCount">248,420</div>
        <div class="muted">Followers</div>
      </div>
      <div class="kpi" aria-label="Tickets sold">
        <div class="num" id="ticketsSold">12,394</div>
        <div class="muted">Tickets Sold</div>
      </div>
      <div class="kpi" aria-label="Avg. live viewers">
        <div class="num" id="avgViewers">58,210</div>
        <div class="muted">Avg. Live Viewers</div>
      </div>
    </div>

    <div class="grid cols-3" style="margin-top:14px">
      <div class="carousel" aria-label="Testimonials">
        <div id="testimonialsSlides" class="slides">
          <div class="slide">‚ÄúThe production and energy were insane ‚Äî best LAN I‚Äôve attended.‚Äù ‚Äî @Pulse</div>
          <div class="slide">‚ÄúTop-tier teams and a slick show. Can‚Äôt wait for the finals.‚Äù ‚Äî @Ari</div>
          <div class="slide">‚ÄúFamily-friendly, accessible, and super fun.‚Äù ‚Äî @Maya</div>
        </div>
        <div class="nav"><button id="testiPrev" aria-label="Prev">‚Äπ</button><button id="testiNext" aria-label="Next">‚Ä∫</button></div>
      </div>
      <div class="carousel" aria-label="Highlights">
        <div id="highlightsSlides" class="slides">
          <div class="slide">Highlight: Quad-entry hold on Reactor ‚Äî Omega Owls clutch</div>
          <div class="slide">Highlight: Neon Knights eco-round ace</div>
          <div class="slide">Highlight: Vortex Vipers OT thriller</div>
        </div>
        <div class="nav"><button id="hlPrev" aria-label="Prev">‚Äπ</button><button id="hlNext" aria-label="Next">‚Ä∫</button></div>
      </div>
      <div class="card">
        <strong>Testimonials</strong>
        <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Rated 4.9 from 1,200+ attendees</p>
        <p>‚ÄúThe neon theme goes hard ‚Äî visibility and vibes on point.‚Äù</p>
      </div>
    </div>
  </section>
</main>

<footer id="contact" class="section" aria-label="Footer">
  <div class="footer-grid">
    <div class="faqs">
      <h3>FAQs</h3>
      <details>
        <summary>What is the event schedule?</summary>
        <p>Group matches Fri, Playoffs Sat, Grand Final Sun. See Schedule.</p>
      </details>
      <details>
        <summary>Are outside food and drinks allowed?</summary>
        <p>Sealed water bottles allowed; food available inside.</p>
      </details>
      <details>
        <summary>Do I need to print my ticket?</summary>
        <p>Mobile tickets are accepted. Have your QR code ready.</p>
      </details>
      <div class="row" style="margin-top:12px">
        <a id="rulesPdfLink" class="btn secondary" href="#" download="tournament-rules.pdf">Rules (PDF)</a>
        <a class="btn secondary" href="#" id="codeOfConduct">Code of Conduct</a>
      </div>
    </div>
    <div class="contact">
      <h3>Contact Us</h3>
      <form id="contactForm" novalidate>
        <div class="row">
          <input id="contactName" type="text" placeholder="Your name" required aria-label="Your name"/>
          <input id="contactEmail" type="email" placeholder="Email" required aria-label="Your email"/>
        </div>
        <textarea id="contactMsg" placeholder="How can we help?" required aria-label="Your message"></textarea>
        <div class="row">
          <button id="contactSubmit" class="btn" type="submit">Send</button>
          <span id="contactNote" class="note" role="status" aria-live="polite"></span>
        </div>
      </form>
      <div class="note" style="margin-top:8px">We typically respond within 1 business day.</div>
    </div>
  </div>
  <div class="note" style="margin-top:20px">¬© <span id="year"></span> Neon Circuit Invitational ‚Ä¢ All rights reserved.</div>
</footer>

<!-- Sticky Buy Tickets -->
<button id="stickyBuy" class="btn" aria-label="Buy Tickets">Buy Tickets</button>

<!-- Tickets Modal -->
<div id="ticketModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="ticketTitle">
  <div class="dialog">
    <header><h3 id="ticketTitle">Get Tickets</h3></header>
    <div class="row">
      <select id="ticketType" aria-label="Ticket type">
        <option value="GA">General Admission ‚Äî $29</option>
        <option value="VIP">VIP ‚Äî $79</option>
        <option value="3DAY">3-Day Pass ‚Äî $99</option>
      </select>
      <select id="ticketQty" aria-label="Quantity">
        <option>1</option><option>2</option><option>3</option><option>4</option>
      </select>
    </div>
    <div class="row" style="margin-top:10px">
      <input id="ticketEmail" type="email" placeholder="Email for delivery" aria-label="Email"/>
    </div>
    <div class="row" style="margin-top:14px">
      <button id="btnPurchase" class="btn">Purchase</button>
      <button id="btnCloseModal" class="btn secondary">Cancel</button>
    </div>
    <div id="ticketNote" class="note" style="margin-top:8px" aria-live="polite"></div>
  </div>
</div>

<script>
(function(){
  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Utility
  const $ = sel => document.querySelector(sel);
  const $$ = sel => document.querySelectorAll(sel);
  const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
  $('#tzName').textContent = tz;

  // Hero Canvas Starfield
  const canvas = document.getElementById('heroCanvas');
  const ctx = canvas.getContext('2d', { alpha: true });
  let stars = [];
  function resizeCanvas(){
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
  }
  function initStars(){
    const count = Math.floor((canvas.width * canvas.height)/ 9000);
    stars = Array.from({length: count}, ()=>({
      x:(Math.random()*2-1)*2,
      y:(Math.random()*2-1)*2,
      z:Math.random()*1+0.2,
      speed: Math.random()*0.004 + 0.0015
    }));
  }
  function renderStars(){
    if(prefersReducedMotion) return; // don't animate
    ctx.clearRect(0,0,canvas.width, canvas.height);
    const cx = canvas.width/2; const cy = canvas.height/2;
    for(let s of stars){
      s.z -= s.speed;
      if(s.z < 0.05){ s.x=(Math.random()*2-1)*2; s.y=(Math.random()*2-1)*2; s.z = 1; }
      const f = 300 / (s.z*300 + 50);
      const x = cx + s.x * canvas.width * 0.25 * f;
      const y = cy + s.y * canvas.height * 0.25 * f;
      const r = Math.max(0.5, (1.2 - s.z)*2);
      ctx.beginPath();
      ctx.fillStyle = `rgba(${Math.floor(100 + 155*(1-s.z))}, ${Math.floor(255*(s.z))}, ${Math.floor(255)}, ${0.6})`;
      ctx.arc(x,y,r,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(renderStars);
  }
  const handleResize = ()=>{ resizeCanvas(); initStars(); };
  window.addEventListener('resize', handleResize);
  resizeCanvas(); initStars(); if(!prefersReducedMotion) requestAnimationFrame(renderStars);

  // Data: Teams
  const TEAMS = [
    {id:'T1', name:'Neon Knights', flag:'üá∫üá∏', color:'#00eaff'},
    {id:'T2', name:'Cyber Cobras', flag:'üá®üá¶', color:'#ff00a6'},
    {id:'T3', name:'Pixel Phantoms', flag:'üáØüáµ', color:'#ffd400'},
    {id:'T4', name:'Omega Owls', flag:'üá¨üáß', color:'#6bff9a'},
    {id:'T5', name:'Quantum Queens', flag:'üáßüá∑', color:'#00ffa3'},
    {id:'T6', name:'Laser Lynx', flag:'üá∏üá™', color:'#6bd1ff'},
    {id:'T7', name:'Vortex Vipers', flag:'üá©üá™', color:'#ff6b6b'},
    {id:'T8', name:'Echo Eagles', flag:'üá´üá∑', color:'#9ea7ff'},
    {id:'T9', name:'Solar Spartans', flag:'üá™üá∏', color:'#ffa24d'},
    {id:'T10', name:'Nova Ninjas', flag:'üá∞üá∑', color:'#c77dff'},
    {id:'T11', name:'Apex Armada', flag:'üá¶üá∫', color:'#24ff6d'},
    {id:'T12', name:'Rift Raiders', flag:'üáÆüá≥', color:'#ffd166'},
    {id:'T13', name:'Glitch Giants', flag:'üáµüá±', color:'#9b5de5'},
    {id:'T14', name:'Titan Talons', flag:'üá≥üá¥', color:'#00f5d4'},
    {id:'T15', name:'Phaser Phoenix', flag:'üáÆüáπ', color:'#f15bb5'},
    {id:'T16', name:'Binary Bears', flag:'üá≥üá±', color:'#4cc9f0'}
  ];
  const teamMap = new Map(TEAMS.map(t=>[t.id, t]));

  // Generate Rosters
  const FIRST = ['Ava','Kai','Mia','Noah','Zoe','Liam','Ivy','Owen','Nia','Ezra','Luna','Aria','Milo','Nova','Juno','Axel','Maya','Kian','Iris','Ada'];
  const LAST = ['Flux','Drift','Pulse','Valk','Shade','Nova','Rift','Glitch','Echo','Volt','Nyx','Blitz','Raze','Lux','Swift','Vex','Rey','Zen','Kora','Hex'];
  const ROLES = ['IGL','Entry','Flex','Support','Sniper'];

  function genRoster(teamId){
    const seed = teamId.charCodeAt(1);
    const n=5;
    const arr=[];
    for(let i=0;i<n;i++){
      const name = FIRST[(seed+i*3)%FIRST.length] + " " + LAST[(seed+i*5)%LAST.length];
      arr.push({name, role:ROLES[i], country:TEAMS[(seed+i)%TEAMS.length].flag});
    }
    return arr;
  }

  function teamInitials(name){
    const words = name.split(' ');
    return (words[0][0] + (words[1]?words[1][0]:'')).toUpperCase();
  }

  // BRACKET
  const bracketRoot = document.getElementById('bracketRoot');
  const sizeSelect = document.getElementById('bracketSizeSelect');
  const btnAuto = document.getElementById('bracketAuto');
  const btnReset = document.getElementById('bracketReset');

  let bracketState = null;
  let autoTimer = null;

  function seedPairings(size){
    // Standard seeding
    const seeds = Array.from({length:size}, (_,i)=> i+1);
    // Round of 16 pairings (1-16, 8-9 etc.)
    const pairs16 = [[1,16],[8,9],[5,12],[4,13],[6,11],[3,14],[7,10],[2,15]];
    const pairs8  = [[1,8],[4,5],[3,6],[2,7]];
    const list = (size===16? pairs16: pairs8).map(([a,b])=> [TEAMS[a-1].id, TEAMS[b-1].id]);
    return list;
  }
  function createBracket(size){
    const now = new Date();
    const base = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 12, 0, 0);
    // Build rounds
    const rounds = [];
    if(size===16){
      const ro16 = seedPairings(16).map((pair,i)=> ({
        id:'R16-'+i,
        round:1, label:'Round of 16', a:pair[0], b:pair[1],
        time: new Date(base.getTime()+ i*45*60000), winner:null
      }));
      rounds.push(ro16);
    }
    const qfPairs = seedPairings(size===16?16:8);
    const quarters = (size===16? Array(8/2).fill(null): qfPairs).map((pair,i)=> ({
      id:'QF-'+i, round:2, label:'Quarterfinals', a:null, b:null, time:new Date(base.getTime()+ (i+8)*45*60000), winner:null
    }));
    const semis = Array(2).fill(0).map((_,i)=> ({id:'SF-'+i, round:3, label:'Semifinals', a:null, b:null, time:new Date(base.getTime()+ (i+12)*55*60000), winner:null}));
    const final = [{id:'GF-0', round:4, label:'Grand Final', a:null, b:null, time:new Date(base.getTime()+ (18)*60*60000), winner:null}];
    rounds.push(quarters, semis, final);

    // Seed inputs
    if(size===16){
      // winners of R16 feed into QF
    } else {
      // seed 8 teams into QF directly
      const pairs=seedPairings(8);
      for(let i=0;i<pairs.length;i++){
        rounds[0][i].a = pairs[i][0];
        rounds[0][i].b = pairs[i][1];
      }
    }

    bracketState = { size, rounds, progressIndex:0 };
    renderBracket();
  }

  function matchEl(match, roundIndex, matchIndex){
    const el = document.createElement('div');
    el.className = 'match';
    el.setAttribute('data-match-id', match.id);
    el.innerHTML = `
      <div class="time">${formatTime(match.time)}</div>
      ${slotHTML(match, 'a')}
      ${slotHTML(match, 'b')}
    `;
    const slots = el.querySelectorAll('.slot');
    slots.forEach(slot=>{
      slot.addEventListener('click', ()=>{
        const pos = slot.getAttribute('data-pos');
        setWinner(roundIndex, matchIndex, pos);
      });
    });
    return el;
  }
  function slotHTML(match,pos){
    const teamId = match[pos];
    const t = teamId ? teamMap.get(teamId) : null;
    const name = t ? t.name : 'TBD';
    const color = t? t.color : '#333';
    const initials = t? teamInitials(name) : '?';
    const isWinner = match.winner && match.winner===teamId;
    return `
      <div class="slot ${isWinner?'winner':''}" data-pos="${pos}" role="button" tabindex="0" aria-label="Select ${name} as winner">
        <div class="team">
          <div class="logo" style="background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent 40%), conic-gradient(${color}, ${color});">${initials}</div>
          <div class="name">${name}</div>
        </div>
        <div class="flag">${t? t.flag : ''}</div>
      </div>
    `;
  }

  function renderBracket(){
    bracketRoot.innerHTML = '';
    // If 16, rounds[0]=R16 else rounds[0]=QF
    const cols = bracketState.rounds.map((round, rIndex)=>{
      const col = document.createElement('div');
      col.innerHTML = `<div class="round-title">${round[0]?.label||''}</div>`;
      // if 16 and round 0 exists with R16 else rounds[0] QF seeded
      round.forEach((m, i)=> col.appendChild(matchEl(m, rIndex, i)));
      return col;
    });
    cols.forEach(c=> bracketRoot.appendChild(c));
  }

  function formatTime(date){
    try{
      return new Intl.DateTimeFormat([], { hour:'2-digit', minute:'2-digit', month:'short', day:'numeric', timeZoneName:'short' }).format(date);
    }catch(e){
      return date.toLocaleString();
    }
  }

  function setWinner(roundIndex, matchIndex, pos){
    const rounds = bracketState.rounds;
    const match = rounds[roundIndex][matchIndex];
    const teamId = match[pos];
    if(!teamId) return;
    match.winner = teamId;

    // Propagate to next round
    const nextRound = rounds[roundIndex+1];
    if(nextRound){
      const nextIndex = Math.floor(matchIndex/2);
      const isA = matchIndex % 2 === 0;
      if(isA){ nextRound[nextIndex].a = teamId; } else { nextRound[nextIndex].b = teamId; }
      // clear downstream winners if overwritten
      for(let r=roundIndex+1; r<rounds.length; r++){
        rounds[r].forEach(m=> m.winner=null);
      }
    }
    renderBracket();
    updateScheduleFromBracket();
  }

  function resetBracket(){
    createBracket(parseInt(sizeSelect.value,10));
  }

  sizeSelect.addEventListener('change', resetBracket);
  btnReset.addEventListener('click', resetBracket);
  btnAuto.addEventListener('click', ()=>{
    const on = btnAuto.getAttribute('aria-pressed') === 'true';
    if(on){ stopAuto(); } else { startAuto(); }
  });

  function startAuto(){
    btnAuto.textContent = 'Auto-Advance: On';
    btnAuto.setAttribute('aria-pressed','true');
    autoTimer = setInterval(()=>{
      advanceOne();
    }, 2000);
  }
  function stopAuto(){
    btnAuto.textContent = 'Auto-Advance: Off';
    btnAuto.setAttribute('aria-pressed','false');
    if(autoTimer) clearInterval(autoTimer);
    autoTimer=null;
  }
  function advanceOne(){
    const rounds = bracketState.rounds;
    // find earliest match without winner with two teams
    for(let r=0;r<rounds.length;r++){
      for(let i=0;i<rounds[r].length;i++){
        const m = rounds[r][i];
        if(!m.winner && m.a && m.b){
          const win = Math.random() < 0.5 ? m.a : m.b;
          m.winner = win;
          // propagate
          const nextRound = rounds[r+1];
          if(nextRound){
            const nextIndex = Math.floor(i/2);
            if(i%2===0){ nextRound[nextIndex].a = win; } else { nextRound[nextIndex].b = win; }
          }
          renderBracket();
          updateScheduleFromBracket();
          return;
        }
      }
    }
    stopAuto();
  }

  // Schedule
  const scheduleList = document.getElementById('scheduleList');
  const stageFilter = document.getElementById('scheduleStageFilter');
  const dayFilter = document.getElementById('scheduleDayFilter');

  let SCHEDULE = [];

  function seedSchedule(){
    // Build from bracket + some group matches
    SCHEDULE = [];
    const now = new Date();
    // Group matches today
    for(let i=0;i<6;i++){
      const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 10 + i);
      SCHEDULE.push({
        id:'G'+i, title:`Groups: ${TEAMS[i].name} vs ${TEAMS[(i+1)%TEAMS.length].name}`,
        stage:'Groups', startUTC: new Date(start.getTime() - start.getTimezoneOffset()*60000),
        endUTC: new Date(start.getTime()+60*60000 - start.getTimezoneOffset()*60000),
        location:'Lumina Arena - Stage B', description:'Group Stage Match'
      });
    }
    // Pull matches from bracket rounds with known teams
    bracketState.rounds.forEach((round, rIdx)=>{
      round.forEach((m, i)=>{
        const aName = m.a ? teamMap.get(m.a).name : 'TBD';
        const bName = m.b ? teamMap.get(m.b).name : 'TBD';
        SCHEDULE.push({
          id: m.id,
          title: `${(m.label||'Match')}: ${aName} vs ${bName}`,
          stage: rIdx===bracketState.rounds.length-1 ? 'Finals' : 'Playoffs',
          startUTC: new Date(m.time.getTime() - m.time.getTimezoneOffset()*60000),
          endUTC: new Date(m.time.getTime() + 60*60000 - m.time.getTimezoneOffset()*60000),
          location:'Lumina Arena - Main Stage',
          description:'Playoff match'
        });
      });
    });

    // Populate day filter
    const daysSet = new Set(SCHEDULE.map(ev=> new Date(ev.startUTC.getTime()+ev.startUTC.getTimezoneOffset()*60000).toDateString()));
    dayFilter.innerHTML = `<option value="all">All days</option>` + Array.from(daysSet).map(d=> `<option value="${d}">${d}</option>`).join('');
  }

  function renderSchedule(){
    const stageVal = stageFilter.value;
    const dayVal = dayFilter.value;
    scheduleList.innerHTML='';
    const items = SCHEDULE.filter(ev=> (stageVal==='all' || ev.stage===stageVal))
      .filter(ev=> {
        if(dayVal==='all') return true;
        const local = new Date(ev.startUTC.getTime()+ev.startUTC.getTimezoneOffset()*60000).toDateString();
        return local===dayVal;
      })
      .sort((a,b)=> a.startUTC - b.startUTC);

    for(const ev of items){
      const li = document.createElement('div');
      li.className='sched-item card';
      const localStart = new Date(ev.startUTC.getTime()+ev.startUTC.getTimezoneOffset()*60000);
      li.innerHTML = `
        <div class="meta">
          <span class="badge">${ev.stage}</span>
          <strong>${ev.title}</strong>
          <span class="time">${formatTime(localStart)}</span>
          <span class="badge">${ev.location}</span>
        </div>
        <div><button class="btn secondary" data-ics="${ev.id}">Add to calendar</button></div>
      `;
      scheduleList.appendChild(li);
    }
    // Bind ICS buttons
    scheduleList.querySelectorAll('button[data-ics]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-ics');
        const ev = SCHEDULE.find(e=> e.id===id);
        if(ev) downloadICS(ev);
      });
    });
  }

  function updateScheduleFromBracket(){
    seedSchedule();
    renderSchedule();
  }

  function pad(n){ return String(n).padStart(2,'0'); }
  function toICSDate(d){
    // d is UTC Date (we stored startUTC)
    return d.getUTCFullYear()+ pad(d.getUTCMonth()+1)+ pad(d.getUTCDate()) +'T'+ pad(d.getUTCHours())+ pad(d.getUTCMinutes())+ pad(d.getUTCSeconds()) +'Z';
  }
  function downloadICS(ev){
    const uid = ev.id+'@neoncircuit';
    const now = new Date();
    const lines = [
      'BEGIN:VCALENDAR',
      'VERSION:2.0',
      'PRODID:-//Neon Circuit Invitational//EN',
      'CALSCALE:GREGORIAN',
      'METHOD:PUBLISH',
      'BEGIN:VEVENT',
      'UID:'+uid,
      'DTSTAMP:'+toICSDate(new Date(now.getTime()-now.getTimezoneOffset()*60000)),
      'DTSTART:'+toICSDate(ev.startUTC),
      'DTEND:'+toICSDate(ev.endUTC),
      'SUMMARY:'+ev.title,
      'DESCRIPTION:'+ev.description,
      'LOCATION:'+ev.location,
      'END:VEVENT',
      'END:VCALENDAR'
    ].join('\r\n');
    const blob = new Blob([lines], {type:'text/calendar;charset=utf-8'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = ev.title.replace(/\s+/g,'_')+'.ics';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(a.href);
  }

  // TEAMS GRID + Compare
  const teamsGrid = document.getElementById('teamsGrid');
  const comparePanel = document.getElementById('comparePanel');
  const compareContent = document.getElementById('compareContent');
  const btnClearCompare = document.getElementById('btnClearCompare');
  let compareSel = [];

  function renderTeams(){
    teamsGrid.innerHTML='';
    TEAMS.forEach(team=>{
      const card = document.createElement('div');
      card.className='team-card card';
      card.setAttribute('role','listitem');
      const roster = genRoster(team.id);
      const form = Array.from({length:5}, ()=> Math.random()>.5?'W':'L');
      card.innerHTML = `
        <button class="compare-toggle btn secondary" data-team="${team.id}" aria-pressed="false" aria-label="Compare ${team.name}">Compare</button>
        <div class="row" style="align-items:center">
          <div class="logo" style="width:36px;height:36px;background: conic-gradient(${team.color}, ${team.color});">${teamInitials(team.name)}</div>
          <div>
            <div style="font-weight:800">${team.name}</div>
            <div class="muted">${team.flag} Seed #${parseInt(team.id.replace('T',''))}</div>
          </div>
        </div>
        <div style="margin-top:8px">
          <strong>Roster</strong>
          <ul style="padding-left:16px; margin:6px 0 0 0">
            ${roster.map(p=> `<li>${p.country} ${p.name} ‚Äî <span class="badge">${p.role}</span></li>`).join('')}
          </ul>
        </div>
        <div style="margin-top:8px">
          <strong>Recent Form</strong>
          <div class="form-dots">${form.map(x=> `<div class="dot ${x.toLowerCase()}"></div>`).join('')}</div>
        </div>
      `;
      teamsGrid.appendChild(card);
    });
    // Bind compare toggles
    teamsGrid.querySelectorAll('.compare-toggle').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-team');
        toggleCompare(id, btn);
      });
    });
  }

  function toggleCompare(id, btn){
    const idx = compareSel.indexOf(id);
    if(idx>=0){
      compareSel.splice(idx,1);
      btn.setAttribute('aria-pressed','false');
    } else {
      if(compareSel.length<2){
        compareSel.push(id);
        btn.setAttribute('aria-pressed','true');
      } else {
        // replace the first selected
        const firstBtn = teamsGrid.querySelector(`.compare-toggle[aria-pressed="true"][data-team="${compareSel[0]}"]`);
        if(firstBtn) firstBtn.setAttribute('aria-pressed','false');
        compareSel.shift();
        compareSel.push(id);
        btn.setAttribute('aria-pressed','true');
      }
    }
    renderCompare();
  }

  function teamStats(id){
    // Mock stats for comparison
    const seed = parseInt(id.replace('T',''));
    const atk = 70 + (16-seed)*2 + Math.floor(Math.random()*6);
    const def = 68 + (16-seed)*2 + Math.floor(Math.random()*6);
    const cl = 50 + (16-seed);
    return {attack:atk, defense:def, clutch:cl};
  }

  function renderCompare(){
    if(compareSel.length===0){ comparePanel.classList.remove('active'); compareContent.innerHTML=''; return; }
    comparePanel.classList.add('active');
    compareContent.innerHTML = compareSel.map(id=>{
      const t = teamMap.get(id);
      const s = teamStats(id);
      return `
        <div class="card">
          <div class="row" style="align-items:center">
            <div class="logo" style="width:32px;height:32px;background: conic-gradient(${t.color}, ${t.color});">${teamInitials(t.name)}</div>
            <div><strong>${t.name}</strong><div class="muted">${t.flag}</div></div>
          </div>
          <ul style="padding-left:16px; margin:10px 0 0 0">
            <li>Attack: <strong>${s.attack}</strong></li>
            <li>Defense: <strong>${s.defense}</strong></li>
            <li>Clutch: <strong>${s.clutch}</strong></li>
          </ul>
        </div>
      `;
    }).join('');
  }
  btnClearCompare.addEventListener('click', ()=>{
    compareSel = [];
    teamsGrid.querySelectorAll('.compare-toggle[aria-pressed="true"]').forEach(b=> b.setAttribute('aria-pressed','false'));
    renderCompare();
  });

  // Stream play
  const btnWatchLive = document.getElementById('btnWatchLive');
  btnWatchLive.addEventListener('click', ()=> document.getElementById('stream').scrollIntoView({behavior: prefersReducedMotion?'auto':'smooth'}));
  document.getElementById('streamPlay').addEventListener('click', (e)=>{
    e.currentTarget.remove();
    // Show "live" overlay animation
    const player = document.querySelector('.player');
    const live = document.createElement('div');
    live.style.position='absolute';
    live.style.top='10px'; live.style.left='10px';
    live.innerHTML = `<span class="badge" style="border-color:#ff4d6d;color:#ffb3c1">LIVE</span>`;
    player.appendChild(live);
    const spectrum = document.createElement('canvas');
    spectrum.width=800; spectrum.height=120;
    spectrum.style.position='absolute'; spectrum.style.bottom='6px'; spectrum.style.left='6px'; spectrum.style.right='6px';
    spectrum.style.height='36px';
    spectrum.style.opacity='0.8';
    player.appendChild(spectrum);
    const c = spectrum.getContext('2d');
    let t=0;
    function animate(){
      if(prefersReducedMotion) return;
      c.clearRect(0,0,spectrum.width,spectrum.height);
      const bars=64;
      for(let i=0;i<bars;i++){
        const h = Math.abs(Math.sin(t + i/4))*spectrum.height;
        const x = i*(spectrum.width/bars);
        c.fillStyle = i%2? '#00f0ff':'#ff00e6';
        c.fillRect(x, spectrum.height - h, (spectrum.width/bars)-2, h);
      }
      t+=0.08;
      requestAnimationFrame(animate);
    }
    if(!prefersReducedMotion) requestAnimationFrame(animate);
  });

  // Ticker dynamic
  const ticker = document.getElementById('nowNextTicker');
  let tickerItems = [
    'Now: Neon Knights vs Cyber Cobras ‚Äî Quarterfinal',
    'Next: Omega Owls vs Vortex Vipers ‚Äî Quarterfinal',
    'Later: Grand Final on Sunday 7:00 PM'
  ];
  function updateTicker(){
    ticker.textContent = tickerItems.join(' ‚Ä¢ ') + ' ‚Ä¢ ' + tickerItems.join(' ‚Ä¢ ') + ' ‚Ä¢ ';
  }
  updateTicker();

  // Sponsors carousel pause on hover
  const sponsorTrack = document.getElementById('sponsorCarousel');
  sponsorTrack.addEventListener('mouseenter', ()=> sponsorTrack.style.animationPlayState='paused');
  sponsorTrack.addEventListener('mouseleave', ()=> sponsorTrack.style.animationPlayState='running');

  // Social carousels
  function makeCarousel(slidesId, prevId, nextId, interval=4000){
    const wrap = document.getElementById(slidesId);
    let idx=0, timer=null;
    function go(n){
      const total = wrap.children.length;
      idx = (n+total)%total;
      wrap.style.transform = `translateX(-${idx*100}%)`;
    }
    function start(){ if(prefersReducedMotion) return; timer = setInterval(()=> go(idx+1), interval); }
    function stop(){ if(timer) clearInterval(timer); timer=null; }
    document.getElementById(prevId).addEventListener('click', ()=> { stop(); go(idx-1); start(); });
    document.getElementById(nextId).addEventListener('click', ()=> { stop(); go(idx+1); start(); });
    wrap.parentElement.addEventListener('mouseenter', stop);
    wrap.parentElement.addEventListener('mouseleave', start);
    start();
  }
  makeCarousel('testimonialsSlides','testiPrev','testiNext',5000);
  makeCarousel('highlightsSlides','hlPrev','hlNext',4500);

  // Contact form
  const contactForm = document.getElementById('contactForm');
  contactForm.addEventListener('submit', (e)=>{
    e.preventDefault();
    const name = document.getElementById('contactName').value.trim();
    const email = document.getElementById('contactEmail').value.trim();
    const msg = document.getElementById('contactMsg').value.trim();
    if(!name || !email || !msg || !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){
      document.getElementById('contactNote').textContent = 'Please fill out all fields with a valid email.';
      return;
    }
    document.getElementById('contactNote').textContent = 'Sending...';
    setTimeout(()=>{
      document.getElementById('contactNote').textContent = 'Thanks! Your message has been sent.';
      contactForm.reset();
    }, 800);
  });

  // Tickets modal
  const modal = document.getElementById('ticketModal');
  function openModal(){ modal.classList.add('active'); }
  function closeModal(){ modal.classList.remove('active'); }
  document.getElementById('btnGetTickets').addEventListener('click', openModal);
  document.getElementById('btnTicketsHero').addEventListener('click', openModal);
  document.getElementById('stickyBuy').addEventListener('click', openModal);
  document.getElementById('btnCloseModal').addEventListener('click', closeModal);
  modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
  document.getElementById('btnPurchase').addEventListener('click', ()=>{
    const email = document.getElementById('ticketEmail').value.trim();
    const type = document.getElementById('ticketType').value;
    const qty = document.getElementById('ticketQty').value;
    const note = document.getElementById('ticketNote');
    if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){
      note.textContent = 'Enter a valid email.';
      return;
    }
    note.textContent = 'Processing...';
    setTimeout(()=>{
      note.textContent = `Success! ${qty} √ó ${type} sent to ${email}.`;
      setTimeout(closeModal, 1200);
    }, 900);
  });

  // Rules PDF link (generate small inline PDF)
  const rulesLink = document.getElementById('rulesPdfLink');
  rulesLink.addEventListener('click', (e)=>{
    e.preventDefault();
    const pdf = "%PDF-1.4\n1 0 obj<</Type/Catalog/Pages 2 0 R>>endobj\n2 0 obj<</Type/Pages/Count 1/Kids[3 0 R]>>endobj\n3 0 obj<</Type/Page/Parent 2 0 R/MediaBox[0 0 300 200]/Contents 4 0 R/Resources<</Font<</F1 5 0 R>>>>>>endobj\n4 0 obj<</Length 83>>stream\nBT /F1 18 Tf 20 160 Td (Neon Circuit Invitational) Tj 0 -24 Td (Rules Summary) Tj 0 -36 Td (See website for full details.) Tj ET\nendstream\nendobj\n5 0 obj<</Type/Font/Subtype/Type1/BaseFont/Helvetica>>endobj\nxref\n0 6\n0000000000 65535 f \n0000000010 00000 n \n0000000061 00000 n \n0000000116 00000 n \n0000000290 00000 n \n0000000411 00000 n \ntrailer<</Size 6/Root 1 0 R>>\nstartxref\n493\n%%EOF";
    const blob = new Blob([pdf], {type:'application/pdf'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'tournament-rules.pdf';
    a.click();
    URL.revokeObjectURL(a.href);
  });

  // Code of Conduct (simple alert)
  document.getElementById('codeOfConduct').addEventListener('click', (e)=>{
    e.preventDefault();
    alert('Code of Conduct:\n‚Ä¢ Be respectful\n‚Ä¢ No harassment or hate speech\n‚Ä¢ Follow staff instructions\n‚Ä¢ Violations may result in removal.');
  });

  // Hero CTAs
  document.getElementById('btnRegisterTeam').addEventListener('click', ()=>{
    alert('Team registration has closed for this event. Stay tuned for the next qualifier!');
  });

  // Year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Initialize
  createBracket(16);
  seedSchedule();
  renderSchedule();
  renderTeams();

  // Filters
  stageFilter.addEventListener('change', renderSchedule);
  dayFilter.addEventListener('change', renderSchedule);

  // Accessibility: keyboard choose winner
  bracketRoot.addEventListener('keydown', (e)=>{
    if(e.key==='Enter' || e.key===' '){
      const slot = e.target.closest('.slot');
      if(slot){
        e.preventDefault();
        const matchEl = slot.closest('.match');
        const matchId = matchEl.getAttribute('data-match-id');
        const pos = slot.getAttribute('data-pos');
        // find match indices
        for(let r=0;r<bracketState.rounds.length;r++){
          const i = bracketState.rounds[r].findIndex(m=> m.id===matchId);
          if(i>=0){ setWinner(r, i, pos); break; }
        }
      }
    }
  });

  // Performance: Lazy images (if any were added dynamically, ensure loading=lazy)
  // This template uses SVG and CSS for visuals to reduce payloads.

})();
</script>
</body>
</html>