<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tea Dunkability Simulator</title>
  <style>
    /* General Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    h1 {
      margin-bottom: 20px;
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px;
      max-width: 600px;
      width: 90%;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }

    .slider-container {
      margin-bottom: 20px;
    }

    .slider-container label {
      display: block;
      margin-bottom: 5px;
    }

    .slider-container input {
      width: 100%;
    }

    .teacup-container {
      position: relative;
      margin: 20px 0;
      width: 150px;
      height: 150px;
    }

    .teacup {
      width: 100%;
      height: 100%;
      background-color: #8B4513;
      border-radius: 50%;
      position: relative;
      overflow: hidden;
    }

    .steam {
      position: absolute;
      top: -20px;
      left: 50%;
      width: 10px;
      height: 50px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0));
      border-radius: 50%;
      animation: steam-animation 2s infinite;
    }

    .steam:nth-child(2) {
      left: 40%;
      animation-delay: 0.5s;
    }

    .steam:nth-child(3) {
      left: 60%;
      animation-delay: 1s;
    }

    @keyframes steam-animation {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      100% {
        transform: translateY(-50px);
        opacity: 0;
      }
    }

    .crumbs {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      color: #FFD700;
      font-size: 12px;
      animation: crumble-animation 1s infinite;
    }

    @keyframes crumble-animation {
      0% {
        opacity: 1;
        transform: translate(-50%, 0);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, 20px);
      }
    }

    .crumble-o-meter {
      margin-top: 20px;
    }

    .dark-mode {
      background-color: #121212;
      color: #ffffff;
    }
  </style>
</head>
<body>
  <div class="glass-card">
    <h1>Tea Dunkability Simulator</h1>

    <!-- Sliders -->
    <div class="slider-container">
      <label for="tea-temp">Tea Temperature (Â°C): <span id="tea-temp-value">50</span></label>
      <input type="range" id="tea-temp" min="30" max="100" value="50">
    </div>

    <div class="slider-container">
      <label for="dunk-time">Dunk Time (seconds): <span id="dunk-time-value">5</span></label>
      <input type="range" id="dunk-time" min="1" max="10" value="5">
    </div>

    <div class="slider-container">
      <label for="biscuit-type">Biscuit Type:</label>
      <select id="biscuit-type">
        <option value="digestive">Digestive</option>
        <option value="hobnob">Hobnob</option>
        <option value="rich-tea">Rich Tea</option>
      </select>
    </div>

    <div class="slider-container">
      <label for="structural-integrity">Structural Integrity (%): <span id="structural-integrity-value">80</span></label>
      <input type="range" id="structural-integrity" min="10" max="100" value="80">
    </div>

    <!-- Teacup Animation -->
    <div class="teacup-container">
      <div class="teacup">
        <div class="steam"></div>
        <div class="steam"></div>
        <div class="steam"></div>
      </div>
      <div id="crumbs" class="crumbs" style="display: none;">Crumbs!</div>
    </div>

    <!-- Crumble-o-Meter -->
    <div class="crumble-o-meter">
      <h2>Crumble-o-Meter: <span id="crumble-o-meter-value">0%</span></h2>
    </div>
  </div>

  <script>
    // DOM Elements
    const teaTempSlider = document.getElementById('tea-temp');
    const dunkTimeSlider = document.getElementById('dunk-time');
    const biscuitTypeSelect = document.getElementById('biscuit-type');
    const structuralIntegritySlider = document.getElementById('structural-integrity');
    const crumbleOMeter = document.getElementById('crumble-o-meter-value');
    const crumbs = document.getElementById('crumbs');

    const teaTempValue = document.getElementById('tea-temp-value');
    const dunkTimeValue = document.getElementById('dunk-time-value');
    const structuralIntegrityValue = document.getElementById('structural-integrity-value');

    // Update slider values
    teaTempSlider.addEventListener('input', () => {
      teaTempValue.textContent = teaTempSlider.value;
      calculateCrumble();
    });

    dunkTimeSlider.addEventListener('input', () => {
      dunkTimeValue.textContent = dunkTimeSlider.value;
      calculateCrumble();
    });

    structuralIntegritySlider.addEventListener('input', () => {
      structuralIntegrityValue.textContent = structuralIntegritySlider.value;
      calculateCrumble();
    });

    biscuitTypeSelect.addEventListener('change', calculateCrumble);

    // Calculate Crumble-o-Meter
    function calculateCrumble() {
      const teaTemp = parseInt(teaTempSlider.value);
      const dunkTime = parseInt(dunkTimeSlider.value);
      const structuralIntegrity = parseInt(structuralIntegritySlider.value);
      const biscuitType = biscuitTypeSelect.value;

      let crumbleFactor = (teaTemp * dunkTime) / structuralIntegrity;

      if (biscuitType === 'hobnob') {
        crumbleFactor *= 0.8; // Hobnobs are sturdier
      } else if (biscuitType === 'rich-tea') {
        crumbleFactor *= 1.2; // Rich Tea biscuits are fragile
      }

      const crumblePercentage = Math.min(Math.round(crumbleFactor * 10), 100);
      crumbleOMeter.textContent = `${crumblePercentage}%`;

      // Show crumbs if over-dunked
      if (crumblePercentage >= 100) {
        crumbs.style.display = 'block';
      } else {
        crumbs.style.display = 'none';
      }
    }

    // Initialize
    calculateCrumble();
  </script>
</body>
</html>