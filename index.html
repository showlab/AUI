<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="Automatic GUI Design, Computer-Use Agents, AUI, Benchmark">
  <meta name="description" content="AUI introduces agent-centric UI design with Coder‚ÄìCUA collaboration and the AUI-Gym benchmark.">

  <title>Computer-Use Agents as Judges for Generative User Interface</title>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5C9M7TXSHJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-5C9M7TXSHJ');
  </script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/nunito@5.0.18/index.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/fontawesome.min.css">
  <link rel="stylesheet" href="vendor/image-zoom.css">
  <link rel="stylesheet" href="index.css">
  <link rel="icon" href="assets/icon.png">

  <script async src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/js/all.min.js"></script>
  <script async src="vendor/image-zoom.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
</head>

<body class="mode-human">
  <section class="hero">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <div class="aui-mode-toggle" aria-label="View mode">
            <span class="aui-mode-switch-label aui-mode-switch-label-human">üßëüèª‚Äçüíª For human</span>
            <label class="aui-mode-switch">
              <input type="checkbox" id="aui-mode-switch-input" aria-label="Toggle agent view">
              <span class="aui-mode-switch-slider"></span>
            </label>
            <span class="aui-mode-switch-label aui-mode-switch-label-agent">ü§ñÔ∏è For agent</span>
          </div>
          <div class="title-header">
            <h1 class="title publication-title is-bold">
              <span>Computer-Use Agents as Judges for Generative User Interface</span>
            </h1>
          </div>
          <div class="is-size-5 publication-author">
            <span class="author-block">
              <a href="https://qhlin.me/" target="_blank">Kevin Qinghong Lin</a><sup>1&dagger;</sup>,
            </span>
            <span class="author-block">
              <a href="https://scholar.google.com/citations?hl=en&user=y605TWYAAAAJ" target="_blank">Siyuan Hu</a><sup>2&dagger;</sup>,
            </span>
            <span class="author-block">
              <a href="https://www.microsoft.com/en-us/research/people/linjli/" target="_blank">Linjie Li</a><sup>3</sup>,
            </span>
            <span class="author-block">
              <a href="https://zyang-ur.github.io/" target="_blank">Zhengyuan Yang</a><sup>3</sup>,
            </span>
            <span class="author-block">
              <a href="https://www.microsoft.com/en-us/research/people/lijuanw/" target="_blank">Lijuan Wang</a><sup>3</sup>,
            </span>
            <br>
            <span class="author-block">
              <a href="https://scholar.google.com/citations?user=kPxa2w0AAAAJ&hl=en" target="_blank">Philip Torr</a><sup>1</sup>,
            </span>
            <span class="author-block">
              <a href="https://sites.google.com/view/showlab" target="_blank">Mike Zheng Shou</a><sup>2</sup>
            </span>
          </div>

          <div class="is-size-5 publication-institution">
            <span class="author-block"><sup>1</sup>University of Oxford</span>
            <span class="author-block"><sup>2</sup>Show Lab, National University of Singapore</span>
            <span class="author-block"><sup>3</sup>Microsoft</span>
          </div>

          <div class="is-size-5 publication-role">
            <span class="author-block"><sup>&dagger;</sup><i>Equal Contribution</i></span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <span class="link-block">
                <a class="button is-normal is-rounded is-dark" href="https://arxiv.org/abs/2511.15567" target="_blank">
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a class="button is-normal is-rounded is-dark" href="https://github.com/showlab/AUI" target="_blank">
                  <span>Code</span>
                </a>
              </span>
              <span class="link-block">
                <a class="button is-normal is-rounded is-dark" href="https://huggingface.co/spaces/showlab/AUI" target="_blank">
                  <span>Demo</span>
                </a>
              </span>
              <span class="link-block">
                <a class="button is-normal is-rounded is-dark" href="#citation">
                  <span>BibTeX</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title">üìñ TL;DR</h2>
          <div class="content has-text-justified"></div>
          <div class="demo-video-block">
            <div class="demo-video-title">What does Agent-friendly look like? Check out below demo:</div>
            <div class="demo-video-wrapper">
              <video class="demo-video" src="assets/agent-friendly-demo.mp4" controls preload="metadata" playsinline></video>
            </div>
            <div class="demo-video-caption">
              <div>The left UI is designed for üßëüèª‚Äçüíªhumans‚Äîprioritizing aesthetics.</div>
              <div>The right UI is redesigned for ü§ñagents‚Äîfocused on clarity and functionality.</div>
            </div>
          </div>
        <div class="demo-video-question">Can <strong>Computer-Use Agents</strong> offer feedback to assist <strong>Coders</strong> to Generate UI?</div>
        <figure class="image">
          <img src="figures/teaser.png" alt="AUI Framework" data-zoom-image />
          <figcaption class="has-text-grey mt-2">
            <b>üë®‚ÄçüíªHumans Collaboration <i>vs.</i> ü§ñÔ∏èCoder-CUA Collaboration.</b> <br> <b>Left:</b> Most GUIs are designed by humans and optimized for user experience (e.g. aesthetics), forcing trained agents to adapt to human-oriented behaviors. <b>Right:</b> Our Coder-CUA Collaboration framework leverages Coder as Designer and CUA as Judge together, enabling more reliable task execution and improved usability for agents. <br>
            <b>This is AUI, Agent-friendly UI.</b>
          </figcaption>
        </figure>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title">üîß How does it work?</h2>
          <figure class="image">
            <img src="figures/workflow.png" alt="AUI Framework" data-zoom-image />
            <figcaption class="has-text-grey mt-2">
              <b>Overview of the Coder-CUA in Collaboration framework.</b> <br>
              The process begins with the Coder as Designer, which initializes and iteratively revises the UI based on queries and feedback. In parallel, the CUA as Judge executes task-driven navigation within the testing environment, generating trajectories and error logs to evaluate task solvability. A verifier ensures functional correctness, while feedback from CUA navigation informs subsequent UI revisions. This collaboration yields a finalized agent-centric UI optimized for both functionality and execution success.
            </figcaption>
          </figure>
        </div>
      </div>
    </div>
  </section>

  <section class="section aui-gallery-section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title">üé¨ Qualitative Examples</h2>
          <p class="caption">
            We introduce <strong>AUI-Gym</strong>, a benchmark of 52 applications with 1560 tasks. 
            <br>
            Each screenshot shows initial vs agent-optimized UI across individual coder.
          </p>
          <div class="aui-gallery-app-title" id="aui-gallery-app-title"></div>
        </div>
      </div>
      <div class="columns is-centered">
        <div class="column is-four-fifths">
          <div class="aui-gallery-main-row">
            <button type="button" class="button aui-gallery-arrow" id="aui-gallery-prev" aria-label="Previous app">
              &larr;
            </button>
            <div id="aui-gallery-grid" class="aui-gallery-grid"></div>
            <button type="button" class="button aui-gallery-arrow" id="aui-gallery-next" aria-label="Next app">
              &rarr;
            </button>
          </div>
          <div id="aui-gallery-task-box" class="aui-gallery-qa-box"></div>
          <div id="aui-gallery-overlays"></div>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title">üìä New UI improve Success Rate</h2>
          <div class="content has-text-justified">
            <p>
              We evaluate our framework using <b>Function Completeness Rate (FC)</b> and <b>CUA Success Rate (SR)</b>. The results demonstrate that our Coder-CUA collaboration significantly improves both metrics compared to the baseline, especially for stronger models like GPT-5 and Gemini-3-Pro.
            </p>
          </div>
          <div class="table-container">
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
              <thead>
                <tr>
                  <th rowspan="2" style="vertical-align: middle;">Coder</th>
                  <th rowspan="2" style="vertical-align: middle;">Method</th>
                  <th colspan="2" class="has-text-centered">Overall Performance</th>
                </tr>
                <tr>
                  <th class="has-text-centered">Func. Completeness (%)</th>
                  <th class="has-text-centered">CUA Success Rate (%)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td rowspan="2" style="vertical-align: middle;">GPT-5</td>
                  <td>Baseline</td>
                  <td class="has-text-centered">67.9</td>
                  <td class="has-text-centered">24.5</td>
                </tr>
                <tr style="font-weight: bold; background-color: #e6fffa;">
                  <td>+ Ours</td>
                  <td class="has-text-centered">81.5</td>
                  <td class="has-text-centered">26.0</td>
                </tr>
                <tr>
                  <td rowspan="2" style="vertical-align: middle;">Qwen3-Coder-30B</td>
                  <td>Baseline</td>
                  <td class="has-text-centered">42.1</td>
                  <td class="has-text-centered">7.3</td>
                </tr>
                <tr style="font-weight: bold; background-color: #e6fffa;">
                  <td>+ Ours</td>
                  <td class="has-text-centered">60.1</td>
                  <td class="has-text-centered">19.0</td>
                </tr>
                <tr>
                  <td rowspan="2" style="vertical-align: middle;">GPT-4o</td>
                  <td>Baseline</td>
                  <td class="has-text-centered">36.3</td>
                  <td class="has-text-centered">8.8</td>
                </tr>
                <tr style="font-weight: bold; background-color: #e6fffa;">
                  <td>+ Ours</td>
                  <td class="has-text-centered">43.1</td>
                  <td class="has-text-centered">16.1</td>
                </tr>
                <tr>
                  <td rowspan="2" style="vertical-align: middle;">Gemini-3-Pro</td>
                  <td>Baseline</td>
                  <td class="has-text-centered">71.7</td>
                  <td class="has-text-centered">35.8</td>
                </tr>
                <tr style="font-weight: bold; background-color: #e6fffa;">
                  <td>+ Ours</td>
                  <td class="has-text-centered">72.5</td>
                  <td class="has-text-centered">47.0</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="aui-leaderboard-bars">
            <div class="aui-leaderboard-toggle">
              <button type="button" data-metric="fc">Function Completeness</button>
              <button type="button" data-metric="sr" class="is-active">CUA Success Rate</button>
            </div>
            <div id="aui-leaderboard-chart" class="aui-leaderboard-chart"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="citation">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
      <h3 class="title">üéì Citation</h3>
          <div class="caption">Please kindly cite our paper if you find this project helpful.</div>
        </div>
      </div>
      <div class="columns is-centered">
        <pre><code>@misc{lin2025aui,<br>      title={Computer-Use Agents as Judges for Generative User Interface}, <br>      author={Kevin Qinghong Lin and Siyuan Hu and Linjie Li and Zhengyuan Yang and Lijuan Wang and Philip Torr and Mike Zheng Shou},<br>      year={2025},<br>      eprint={2511.15567},<br>      archivePrefix={arXiv},<br>      primaryClass={cs.CV},<br>      url={https://arxiv.org/abs/2511.15567}, <br>}</code></pre>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <div class="content">
            <p>This website is modified from <a href="https://nerfies.github.io/" target="_blank">Nerfies's Project Page</a>. Source code is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <script>
    (function () {
      var bodyEl = document.body;
      var modeSwitch = document.getElementById("aui-mode-switch-input");
      var currentMode = "human";
      var chartInitialized = false;
      if (modeSwitch && bodyEl) {
        var applyMode = function () {
          if (modeSwitch.checked) {
            bodyEl.classList.add("mode-agent");
            bodyEl.classList.remove("mode-human");
            currentMode = "agent";
          } else {
            bodyEl.classList.add("mode-human");
            bodyEl.classList.remove("mode-agent");
            currentMode = "human";
          }
          if (chartInitialized && typeof renderLeaderboard === "function") {
            renderLeaderboard(currentMetric, currentMode);
          }
        };
        modeSwitch.addEventListener("change", applyMode);
        applyMode();
      }

      const models = ["gpt5", "qwen", "gpt4o", "gemini3"];
      const modelLabels = {
        gpt5: "GPT-5",
        qwen: "Qwen3-Coder-30B",
        gpt4o: "GPT-4o",
        gemini3: "Gemini-3-Pro",
      };
      // Apps where all four coder models have non-trivial v0 + v1 websites and thumbs.
      const apps = [
        "artisan-csa",
        "company-acronym-list",
        "esports-tournament-landing-page",
        "festival-lights-show",
        "kinetic-typography-studio",
        "regex-lab"
      ];

      function titleCaseApp(slug) {
        return slug
          .split("-")
          .map(function (p) {
            return p.charAt(0).toUpperCase() + p.slice(1);
          })
          .join(" ");
      }

      var grid = document.getElementById("aui-gallery-grid");
      var overlaysRoot = document.getElementById("aui-gallery-overlays");
      var appTitleEl = document.getElementById("aui-gallery-app-title");
      var prevBtn = document.getElementById("aui-gallery-prev");
      var nextBtn = document.getElementById("aui-gallery-next");
      var taskBox = document.getElementById("aui-gallery-task-box");
      if (!grid || !overlaysRoot) return;

      function ensureOverlay(model, app, overlayId, v0Path, v1Path) {
        if (document.getElementById(overlayId)) {
          return;
        }
        var overlay = document.createElement("div");
        overlay.id = overlayId;
        overlay.className = "aui-gallery-overlay";
        overlay.innerHTML =
          '<div class="aui-gallery-overlay-backdrop"></div>' +
          '<div class="aui-gallery-overlay-content">' +
          '<a href="#" class="aui-gallery-overlay-close" aria-label="Close overlay">&times;</a>' +
          '<input type="radio" id="' +
          overlayId +
          '-initial" name="' +
          overlayId +
          '-view" class="aui-gallery-toggle-input aui-gallery-toggle-input-initial" checked />' +
          '<input type="radio" id="' +
          overlayId +
          '-revised" name="' +
          overlayId +
          '-view" class="aui-gallery-toggle-input aui-gallery-toggle-input-revised" />' +
          '<div class="aui-gallery-toggle-bar">' +
          '<span class="aui-gallery-toggle-label-prefix">View</span>' +
          '<label for="' +
          overlayId +
          '-initial" class="aui-gallery-toggle-label aui-gallery-toggle-label-initial">Initial</label>' +
          '<label for="' +
          overlayId +
          '-revised" class="aui-gallery-toggle-label aui-gallery-toggle-label-revised">Revised</label>' +
          "</div>" +
          '<div class="aui-gallery-frame-wrapper">' +
          '<iframe class="aui-gallery-frame aui-gallery-frame-initial" src="' +
          v0Path +
          '" loading="lazy"></iframe>' +
          '<iframe class="aui-gallery-frame aui-gallery-frame-revised" src="' +
          v1Path +
          '" loading="lazy"></iframe>' +
          "</div>" +
          "</div>";
        overlaysRoot.appendChild(overlay);
      }

      function loadTaskPrompt(app) {
        if (!taskBox) return;
        fetch("gallery/tasks/" + app + ".yaml")
          .then(function (resp) {
            return resp.text();
          })
          .then(function (text) {
            var promptText = "";
            var matchPrimary = text.match(/prompt:\s*\|([\s\S]*?)\n[a-zA-Z0-9_-]+:/);
            var matchFallback = text.match(/prompt:\s*\|([\s\S]*)/);
            var block = matchPrimary && matchPrimary[1]
              ? matchPrimary[1]
              : matchFallback && matchFallback[1]
              ? matchFallback[1]
              : "";
            if (block) {
              var lines = block.split(/\r?\n/);
              if (lines.length && lines[0].trim() === "") lines.shift();
              var indent = lines
                .filter(function (l) { return l.trim().length > 0; })
                .reduce(function (min, l) {
                  var m = l.match(/^\s*/)[0].length;
                  return min === null ? m : Math.min(min, m);
                }, null);
              if (indent === null) indent = 0;
              promptText = lines
                .map(function (l) { return l.slice(indent); })
                .join("\n")
                .trim();
            }
            if (!promptText) {
              taskBox.innerHTML =
                '<div class="aui-gallery-qa-question"><span class="aui-gallery-qa-qtag">Task</span></div>' +
                '<div class="aui-gallery-qa-answer">Task prompt missing.</div>';
              return;
            }
            var safe = promptText
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;");
            taskBox.innerHTML =
              '<div class="aui-gallery-qa-question"><span class="aui-gallery-qa-qtag">Task</span></div>' +
              '<div class="aui-gallery-qa-answer">' +
              safe +
              "</div>";
          });
      }

      function renderApp(app) {
        grid.innerHTML = "";
        var appTitle = titleCaseApp(app);
        if (appTitleEl) {
          appTitleEl.textContent = appTitle;
        }

        models.forEach(function (model) {
          var modelLabel = modelLabels[model] || model;
          var overlayId = "aui-gallery-" + model + "-" + app;

          var card = document.createElement("a");
          card.className = "aui-gallery-card-link";
          card.href = "#" + overlayId;
          card.innerHTML =
            '<div class="aui-gallery-card" data-app="' +
            appTitle +
            '" data-model="' +
            modelLabel +
            '">' +
            '<div class="aui-gallery-thumb-wrapper">' +
            '<img class="aui-gallery-thumb aui-thumb-v0" src="gallery/thumbs/' +
            model +
            "/" +
            app +
            '/v0.jpg" alt="' +
            appTitle +
            ' initial (' +
            modelLabel +
            ')" loading="lazy" />' +
            '<img class="aui-gallery-thumb aui-thumb-v1" src="gallery/thumbs/' +
            model +
            "/" +
            app +
            '/v1.jpg" alt="' +
            appTitle +
            ' revised (' +
            modelLabel +
            ')" loading="lazy" />' +
            "</div>" +
            '<div class="aui-gallery-card-meta">' +
            '<div class="aui-gallery-card-title">' +
            modelLabel +
            "</div>" +
            "</div>" +
            "</div>";
          grid.appendChild(card);

          var v0Path =
            "gallery/v0/" + app + "/" + model + "/index.html";
          var v1Path =
            "gallery/v1/" + app + "/" + model + "/v1_website/index.html";
          ensureOverlay(model, app, overlayId, v0Path, v1Path);
        });
      }

      var currentIndex = 0;

      function setActiveApp(index) {
        if (!apps.length) return;
        if (index < 0) index = apps.length - 1;
        if (index >= apps.length) index = 0;
        currentIndex = index;
        var app = apps[currentIndex];
        if (grid) {
          grid.classList.add("is-sliding-out");
        }
        window.setTimeout(function () {
          renderApp(app);
          loadTaskPrompt(app);
          if (grid) {
            grid.classList.remove("is-sliding-out");
            // prepare for slide-in from right
            grid.classList.add("is-sliding-in");
            requestAnimationFrame(function () {
              // trigger transition to base position/opacity
              grid.classList.remove("is-sliding-in");
            });
          }
        }, 140);
      }

      if (prevBtn) {
        prevBtn.addEventListener("click", function () {
          setActiveApp(currentIndex - 1);
        });
      }
      if (nextBtn) {
        nextBtn.addEventListener("click", function () {
          setActiveApp(currentIndex + 1);
        });
      }

      // auto rotate apps to the right
      var autoRotateMs = 6500;
      var autoTimer = null;
      function startAuto() {
        stopAuto();
        autoTimer = setInterval(function () {
          setActiveApp(currentIndex + 1);
        }, autoRotateMs);
      }
      function stopAuto() {
        if (autoTimer) clearInterval(autoTimer);
        autoTimer = null;
      }

      // pause on hover over gallery grid or arrows
      [grid, prevBtn, nextBtn].forEach(function (el) {
        if (!el) return;
        el.addEventListener("mouseenter", stopAuto);
        el.addEventListener("mouseleave", startAuto);
      });

      setActiveApp(currentIndex);
      startAuto();

      // Leaderboard interactive bar chart (ECharts)
      var chartRoot = document.getElementById("aui-leaderboard-chart");
      var metricToggleButtons = document.querySelectorAll(
        ".aui-leaderboard-toggle button"
      );
      if (!chartRoot || typeof echarts === "undefined") return;

      var leaderboardData = [
        {
          coder: "GPT-5",
          baseline: { fc: 67.9, sr: 24.5 },
          ours: { fc: 81.5, sr: 26.0 },
        },
        {
          coder: "Qwen3-Coder-30B",
          baseline: { fc: 42.1, sr: 7.3 },
          ours: { fc: 60.1, sr: 19.0 },
        },
        {
          coder: "GPT-4o",
          baseline: { fc: 36.3, sr: 8.8 },
          ours: { fc: 43.1, sr: 16.1 },
        },
        {
          coder: "Gemini-3-Pro",
          baseline: { fc: 71.7, sr: 35.8 },
          ours: { fc: 72.5, sr: 47.0 },
        },
      ];

      var baseTooltipStyle = {
        backgroundColor: "rgba(255,255,255,0.95)",
        borderColor: "#ccc",
        borderWidth: 1,
        textStyle: { color: "#333" },
        padding: [10, 15],
      };

      var chart = echarts.init(chartRoot);
      var currentMetric = "sr";

      function paletteFor(mode) {
        if (mode === "agent") {
          return {
            baseline: "#4b5563",
            ours: "#0f172a",
            axis: "#0f172a",
            split: "#e5e7eb",
            label: "#0f172a",
            bg: "#ffffff"
          };
        }
        return {
          baseline: "#cbd5f5",
          ours: "#2563eb",
          axis: "#111827",
          split: "#e9e9e9",
          label: "#111827",
          bg: "#ffffff"
        };
      }

      function buildOption(metric, mode) {
        var pal = paletteFor(mode);
        var isAgent = mode === "agent";
        var coderNames = leaderboardData.map(function (row) {
          return row.coder;
        });
        var baselineVals = leaderboardData.map(function (row) {
          return row.baseline[metric];
        });
        var oursVals = leaderboardData.map(function (row) {
          return row.ours[metric];
        });
        var titleText =
          metric === "fc"
            ? "Function Completeness (%)"
            : "CUA Success Rate (%)";

        return {
          backgroundColor: pal.bg,
          title: {
            text: titleText,
            left: "center",
            textStyle: { fontWeight: "bold", fontSize: 15 },
          },
          tooltip: {
            trigger: "item",
            ...baseTooltipStyle,
            backgroundColor: isAgent ? "rgba(255,255,255,0.98)" : baseTooltipStyle.backgroundColor,
            borderColor: isAgent ? "#111827" : baseTooltipStyle.borderColor,
            textStyle: { color: pal.label },
            formatter: function (p) {
              var row = leaderboardData[p.dataIndex];
              var label = p.seriesName;
              var value = p.value;
              return (
                "<b>" +
                row.coder +
                "</b><br/>" +
                label +
                ": " +
                value.toFixed(1) +
                "%"
              );
            },
          },
          legend: {
            data: ["Baseline", "Ours"],
            top: 30,
            show: !isAgent,
          },
          grid: {
            containLabel: true,
            left: 40,
            right: 20,
            bottom: 40,
            top: 70,
          },
          xAxis: {
            type: "category",
            data: coderNames,
            axisLabel: {
              interval: 0,
              rotate: 0,
              align: "center",
              fontSize: 10,
              color: pal.axis,
            },
            axisLine: { lineStyle: { color: pal.axis } },
          },
          yAxis: {
            type: "value",
            name: "Score (%)",
            nameTextStyle: { fontSize: 12 },
            axisLabel: { fontSize: 10, color: pal.axis },
            splitLine: {
              lineStyle: { color: pal.split, type: "dashed" },
            },
            max: 100,
          },
          series: [
            {
              name: "Baseline",
              type: "bar",
              barWidth: "30%",
              data: baselineVals,
              itemStyle: { color: pal.baseline },
              emphasis: { disabled: isAgent },
            },
            {
              name: "Ours",
              type: "bar",
              barWidth: "30%",
              data: oursVals,
              itemStyle: { color: pal.ours },
              label: {
                show: !isAgent,
                position: "top",
                fontWeight: isAgent ? 600 : "bold",
                fontSize: isAgent ? 10 : 11,
                formatter: function (p) {
                  return p.value.toFixed(1);
                },
              },
            },
          ],
        };
      }

      function renderLeaderboard(metric, mode) {
        var m = mode || currentMode || (bodyEl.classList.contains("mode-agent") ? "agent" : "human");
        chart.setOption(buildOption(metric, m), true);
      }

      window.addEventListener("resize", function () {
        chart.resize();
      });

      metricToggleButtons.forEach(function (btn) {
        btn.addEventListener("click", function () {
          var metric = btn.getAttribute("data-metric");
          if (!metric || metric === currentMetric) return;
          currentMetric = metric;
          metricToggleButtons.forEach(function (b) {
            b.classList.toggle("is-active", b === btn);
          });
          renderLeaderboard(currentMetric);
        });
      });

      chartInitialized = true;
      renderLeaderboard(currentMetric, currentMode);
    })();
  </script>

</body>

</html>
