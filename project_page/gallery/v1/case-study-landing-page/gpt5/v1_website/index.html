<!DOCTYPE html>
<html lang="en">
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Customer Case Study - XYZ Corp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Customer Case Study - XYZ Corp: How a SaaS platform delivered measurable outcomes with a clear problem/solution breakdown, metrics, and a testimonial." />
  <style>
    /* Destylized baseline: white background, black text, no gradients, no rounded corners, no shadows */
    :root{
      --bg: #ffffff;
      --surface: #ffffff;
      --elev: #f2f2f2;
      --text: #000000;
      --muted: #444444;
      --brand: #1a73e8;
      --brand-2: #118d57;
      --accent: #ea4335;
      --danger: #b00020;
      --ok: #0e8f3b;
      --border: #cccccc;
    }
    body[data-theme="light"]{
      --bg: #ffffff;
      --surface: #ffffff;
      --elev: #f2f2f2;
      --text: #000000;
      --muted: #444444;
      --brand: #1a73e8;
      --brand-2: #118d57;
      --accent: #ea4335;
      --danger: #b00020;
      --ok: #0e8f3b;
      --border: #cccccc;
    }
    body[data-theme="dark"]{
      --bg: #000000;
      --surface: #101010;
      --elev: #1a1a1a;
      --text: #ffffff;
      --muted: #cccccc;
      --brand: #5ea0ff;
      --brand-2: #53d0a3;
      --accent: #ff7961;
      --danger: #ff6b6b;
      --ok: #6bd67a;
      --border: #333333;
    }

    html, body{height:100%;}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
      color: var(--text);
      background: var(--bg);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .container{
      width: min(1200px, 94vw);
      margin: 0 auto;
    }
    .skip-link{
      position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
    }
    .skip-link:focus{
      position: fixed; left:12px; top:12px; width:auto; height:auto; padding:10px 16px; background: var(--brand); color:#fff;
      outline: 2px solid #000;
      z-index: 10000;
    }

    header{
      position: sticky; top:0; z-index:999;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      padding: 8px 0;
    }
    .brand{
      display:flex; align-items:center; gap:12px; text-decoration:none; color:var(--text);
      min-height:44px;
    }
    .brand-logo{
      width:44px; height:44px; background: var(--brand); color:white; display:grid; place-items:center; font-weight:800;
    }
    .brand h1{
      font-size: 18px; margin:0;
    }
    .nav-actions{display:flex; gap:12px; align-items:center;}
    .btn, button{
      font: inherit;
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      border:1px solid var(--border); color:var(--text);
      background: var(--surface);
      padding: 8px 16px;
      min-height:44px; min-width:44px;
      cursor:pointer;
    }
    .btn-primary{
      background: var(--brand); color: #fff; border-color: var(--brand);
    }
    .btn-ghost{
      background: var(--surface); border-color: var(--border); color: var(--text);
    }
    .btn[aria-disabled="true"]{ opacity: 0.7; }
    .icon{ width:18px; height:18px; display:inline-block; }
    .toggle{
      display:inline-flex; align-items:center; gap:10px; padding: 0 12px; height:44px; border:1px solid var(--border); cursor:pointer; user-select:none; background: var(--surface);
    }
    .toggle .dot{
      width:18px; height:18px; background: var(--brand-2);
    }
    [data-theme="light"] .toggle .dot{ background: var(--brand); }

    #scrollProgress{ position: fixed; top:0; left:0; width:100%; height:4px; background: transparent; z-index: 1000; }
    #scrollProgressInner{ width:0%; height:100%; background: var(--brand); }

    /* Top in-page navigation */
    .section-nav{
      display:flex; gap:12px; align-items:center; overflow:auto;
      border-top:1px solid var(--border); border-bottom:1px solid var(--border);
      padding:8px 0;
    }
    .section-nav a{
      text-decoration:none; color: var(--text); border:1px solid var(--border); padding: 8px 12px; min-height:44px; display:flex; align-items:center;
    }
    .section-nav a[aria-current="true"]{ background: var(--elev); }

    /* Layout sections */
    main{ padding-bottom: 24px; }
    .hero{ padding: 16px 0; }
    .hero-grid{ display:grid; grid-template-columns: 1.4fr 1fr; gap: 12px; align-items: start; }
    .headline{ font-size: clamp(26px, 3vw, 40px); line-height: 1.2; margin: 8px 0; }
    .subhead{ color: var(--muted); margin: 0 0 8px; }
    .badges{ display:flex; gap:8px; flex-wrap: wrap; }
    .badge{ font-size: 12px; padding: 6px 10px; background: var(--elev); border:1px solid var(--border); color: var(--muted); }
    .hero-card{ background: var(--elev); border:1px solid var(--border); padding: 16px; }
    .key-row{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px 0; }
    .key-row strong{ font-size: 20px; }

    .quick-cta{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin-top:12px; }
    .keyboard-hint{ font-size:12px; color: var(--muted); }

    /* Metrics */
    .metrics{ padding: 8px 0; }
    .metric-grid{ display:grid; grid-template-columns: repeat(3,1fr); gap: 12px; }
    .metric-card{ background: var(--surface); border:1px solid var(--border); padding: 12px; }
    .metric-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
    .metric-title{ color: var(--muted); font-size: 12px; }
    .metric-value{ font-weight: 800; font-size: 32px; margin: 6px 0 2px; }
    .metric-foot{ display:flex; align-items:center; gap:10px; color: var(--muted); font-size: 12px; }
    .info-btn{ border:1px solid var(--border); background: var(--surface); color: var(--muted); padding:8px 12px; min-height:44px; }

    .info-panel{ margin-top:10px; padding: 10px; background: var(--elev); border:1px solid var(--border); color: var(--muted); }

    /* Tabs */
    .tabs{ margin: 10px 0; border:1px solid var(--border); background: var(--surface); }
    .tablist{ display:flex; gap:8px; padding: 8px; border-bottom:1px solid var(--border); overflow:auto; }
    .tab-btn{ border: 1px solid var(--border); background: var(--elev); color: var(--text); padding: 8px 12px; min-height:44px; }
    .tab-btn[aria-selected="true"]{ background: var(--brand); color:#fff; border-color: var(--brand); }
    .tab-panels{ padding: 12px; }
    .panel{ display:none; }
    .panel.active{ display:block; }
    .chevron{ font-size:14px; color: var(--text); }

    /* Split */
    .split{ display:grid; grid-template-columns: 1.4fr 1fr; gap: 12px; align-items: start; }
    .testimonial{ background: var(--elev); border:1px solid var(--border); padding: 12px; }
    .testimonial .row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .stars{ color: var(--accent); letter-spacing: 1px; }
    blockquote{ margin: 12px 0; font-size: 18px; line-height: 1.4; }
    figure{ display:flex; align-items:center; gap:10px; margin:0; color: var(--muted); }
    .avatar{ width:44px; height:44px; background: var(--brand-2); display:grid; place-items:center; color:white; font-weight:700; }

    aside.calculator{ background: var(--surface); border:1px solid var(--border); padding: 12px; position: sticky; top: 84px; }
    .calc-row{ margin: 10px 0; }
    input[type="range"]{ width:100%; }
    .kpi{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding: 10px; background: var(--elev); border:1px solid var(--border); margin-top: 8px; }
    .range-steps{ display:flex; gap:8px; align-items:center; margin-top:8px; }
    .range-steps button{ min-width:44px; min-height:44px; }

    /* CTA */
    .cta{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; background: var(--surface); border:1px solid var(--border); padding: 12px; margin: 16px 0; }

    /* About + Resources + Customers + Security + Outcomes */
    .section{ padding: 8px 0; }
    .panel-box{ background: var(--surface); border:1px solid var(--border); padding: 12px; }
    .cards{ display:grid; grid-template-columns: repeat(3,1fr); gap: 12px; }
    .card{ border:1px solid var(--border); background: var(--elev); padding: 12px; }
    .card button{ width:100%; }

    /* Footer */
    footer{ color: var(--muted); padding: 16px 0 24px; border-top:1px solid var(--border); }
    .foot-actions{ display:flex; gap:12px; flex-wrap: wrap; }

    /* Status proxies */
    .statusbar{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin: 8px 0; }
    .status-item{ border:1px solid var(--border); padding: 8px 12px; background: var(--surface); min-height:44px; display:flex; align-items:center; }

    /* Mobile menu */
    .mobile-menu-toggle{ display:none; }
    .mobile-menu{ position: fixed; inset: 0 0 auto 0; height: 0; overflow:hidden; background: var(--surface); border-bottom:1px solid var(--border); transition: none; }
    .mobile-menu.open{ height: auto; }
    .mobile-menu .section-nav{ border: none; }

    /* Accessibility focus */
    :focus{ outline: 2px solid var(--brand); outline-offset: 1px; }

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid, .split, .metric-grid, .cards { grid-template-columns: 1fr; }
      aside.calculator{ position: relative; top: 0; }
      .mobile-menu-toggle{ display:inline-flex; }
      .section-nav{ display:none; }
    }
  </style>
</head>
<body data-theme="light">
  <a href="#main" class="skip-link">Skip to main content</a>
  <div id="scrollProgress" aria-hidden="true"><div id="scrollProgressInner"></div></div>

  <header>
    <div class="container nav">
      <a href="#overview" class="brand" aria-label="XYZ Corp case study home">
        <div class="brand-logo" aria-hidden="true">X</div>
        <h1>Customer Case Study — XYZ Corp</h1>
      </a>
      <div class="nav-actions">
        <button id="btnOpenMenu" class="btn mobile-menu-toggle" aria-expanded="false" aria-controls="mobileMenu">Menu</button>
        <div class="toggle" id="toggleTheme" role="switch" aria-checked="true" tabindex="0" title="Toggle light/dark theme">
          <span aria-hidden="true">Dark</span>
          <div class="dot"></div>
          <span aria-hidden="true">Light</span>
        </div>
        <button id="btnOpenModal" class="btn btn-primary">
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M8 12l2.5 2.5L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Talk to sales
        </button>
        <button id="btnShareLinkTop" class="btn btn-ghost" title="Copy link">
          Share link
        </button>
      </div>
    </div>
    <div class="container section-nav" role="navigation" aria-label="In-page navigation">
      <a href="#overview" id="navOverview" data-target="overview" aria-current="true">Overview</a>
      <a href="#problem" id="navProblem" data-target="problem">Problem</a>
      <a href="#solution" id="navSolution" data-target="solution">Solution</a>
      <a href="#metrics" id="navMetrics" data-target="metrics">Metrics</a>
      <a href="#testimonial" id="navTestimonial" data-target="testimonial">Testimonial</a>
      <a href="#contact" id="navContact" data-target="contact">Contact</a>
    </div>
    <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
      <div class="container">
        <div class="section-nav" style="display:flex;">
          <a href="#overview" id="navOverviewMobile" data-target="overview">Overview</a>
          <a href="#problem" id="navProblemMobile" data-target="problem">Problem</a>
          <a href="#solution" id="navSolutionMobile" data-target="solution">Solution</a>
          <a href="#metrics" id="navMetricsMobile" data-target="metrics">Metrics</a>
          <a href="#testimonial" id="navTestimonialMobile" data-target="testimonial">Testimonial</a>
          <a href="#contact" id="navContactMobile" data-target="contact">Contact</a>
        </div>
      </div>
    </div>
  </header>

  <main id="main" class="container" role="main">
    <section id="overview" class="hero" aria-labelledby="hero-title">
      <div class="hero-grid">
        <div>
          <h2 id="hero-title" class="headline">XYZ Corp cut onboarding time, boosted expansion revenue, and achieved 3.5x ROI in 6 months</h2>
          <p class="subhead">Using our unified customer lifecycle platform, XYZ Corp replaced manual playbooks and siloed data with automated, data-driven workflows.</p>
          <div class="badges" aria-label="Quick facts">
            <span class="badge">Industry: B2B Fintech</span>
            <span class="badge">Company size: 800+</span>
            <span class="badge">Deployment: 6 weeks</span>
          </div>
          <div class="quick-cta" aria-label="Primary actions">
            <button id="btnOpenModalTop" class="btn btn-primary" title="Open contact form">Talk to sales</button>
            <button id="requestDeckTop" class="btn btn-primary" title="Request deck">Request deck</button>
            <button id="btnShareLinkTopInline" class="btn btn-ghost" title="Copy link above the fold">Copy shareable link</button>
            <a id="linkLearnSolution" href="#solution" class="btn btn-ghost" title="Learn about the solution">Learn about the solution</a>
            <span class="keyboard-hint">Hint: Press Enter to activate the focused control.</span>
          </div>
          <div class="statusbar">
            <div class="status-item">Active section: <strong id="activeSection">overview</strong></div>
            <div class="status-item">Share status: <strong id="shareStatus">idle</strong></div>
            <div class="status-item">Modal status: <strong id="modalOpenStatus">closed</strong></div>
            <div class="status-item">Download status: <strong id="downloadStatus">idle</strong></div>
          </div>
        </div>
        <div class="hero-card" aria-labelledby="key-outcomes">
          <h3 id="key-outcomes">Key outcomes at a glance</h3>
          <div class="key-row">
            <span class="muted">Onboarding cycle</span>
            <strong class="ok">-47%</strong>
          </div>
          <div class="key-row">
            <span class="muted">Expansion revenue</span>
            <strong class="ok">+28%</strong>
          </div>
          <div class="key-row">
            <span class="muted">ROI in 6 months</span>
            <strong class="ok">3.5×</strong>
          </div>
          <div class="key-row">
            <span class="muted">CSAT</span>
            <strong class="ok">+19 pts</strong>
          </div>
          <div style="margin-top:8px;">
            <button id="btnPrepareSample" class="btn btn-ghost">Prepare sample download</button>
            <a id="downloadSample" class="btn btn-ghost" href="#" download="XYZ-Corp-Case-Study-Sample.txt" aria-disabled="true">Download sample</a>
          </div>
          <div class="keyboard-hint">Hint: Prepare before download.</div>
        </div>
      </div>
      <div class="section panel-box" style="margin-top:12px;">
        <h3 id="about-title">About XYZ Corp</h3>
        <p>XYZ Corp is a B2B fintech provider operating across North America and EMEA. The company serves mid-market and enterprise customers with secure payment reconciliation and analytics solutions.</p>
        <ul>
          <li>Industry: Fintech</li>
          <li>Company size: 800+ employees</li>
          <li>Region: North America, EMEA</li>
          <li>Compliance: SOC 2 Type II, ISO 27001 aligned</li>
        </ul>
        <p>Company website: <a id="companyWebsiteLink" href="https://example.com" target="_blank" rel="noopener">example.com</a></p>
      </div>
    </section>

    <section id="metrics" class="metrics section" aria-labelledby="metrics-title">
      <h3 id="metrics-title">Impact metrics</h3>
      <div class="metric-grid">
        <article class="metric-card" aria-labelledby="metric1-title">
          <div class="metric-head">
            <span id="metric1-title" class="metric-title">Faster Onboarding</span>
            <button id="metricInfoBtn1" class="info-btn" aria-expanded="false" aria-controls="metricMore1">Methodology</button>
          </div>
          <div id="metric1" class="metric-value" data-target="47" data-suffix="%" aria-live="polite">0%</div>
          <div class="metric-foot">
            <span class="muted">Cycle time reduced</span>
          </div>
          <div id="metricMore1" class="info-panel" hidden>
            Based on average onboarding cycle reduced from 17 to 9 days across 260 cohorts over 6 months.
          </div>
        </article>

        <article class="metric-card" aria-labelledby="metric2-title">
          <div class="metric-head">
            <span id="metric2-title" class="metric-title">Expansion Revenue</span>
            <button id="metricInfoBtn2" class="info-btn" aria-expanded="false" aria-controls="metricMore2">Methodology</button>
          </div>
          <div id="metric2" class="metric-value" data-target="28" data-suffix="%" aria-live="polite">0%</div>
          <div class="metric-foot">
            <span class="muted">Net expansion increase</span>
          </div>
          <div id="metricMore2" class="info-panel" hidden>
            Measured via NRR uplift comparing pre- and post-implementation quarters (seasonally adjusted).
          </div>
        </article>

        <article class="metric-card" aria-labelledby="metric3-title">
          <div class="metric-head">
            <span id="metric3-title" class="metric-title">Return on Investment</span>
            <button id="metricInfoBtn3" class="info-btn" aria-expanded="false" aria-controls="metricMore3">Methodology</button>
          </div>
          <div id="metric3" class="metric-value" data-target="3.5" data-suffix="×" aria-live="polite">0×</div>
          <div class="metric-foot">
            <span class="muted">Within first 6 months</span>
          </div>
          <div id="metricMore3" class="info-panel" hidden>
            ROI = (incremental margin + cost savings) / platform cost; validated by finance.
          </div>
        </article>
      </div>
      <div style="margin-top:12px; display:flex; gap:12px; align-items:center;">
        <button id="btnMetricsCta" class="btn btn-primary">Get a demo</button>
        <span id="metricsCtaStatus" class="status-item">Metrics CTA: idle</span>
      </div>
    </section>

    <section id="problem" aria-labelledby="breakdown-title" class="section">
      <h3 id="breakdown-title">Problem / Solution breakdown</h3>
      <div class="tabs" id="psTabs">
        <div class="tablist" id="tablist" role="tablist" aria-label="Case breakdown tabs">
          <button id="tab-problem" class="tab-btn" role="tab" aria-selected="true" aria-controls="panel-problem" tabindex="0">Problem</button>
          <button id="tab-solution" class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-solution" tabindex="-1"><span>Solution</span> <span class="chevron" aria-hidden="true">▾</span></button>
          <button id="tab-rollout" class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-rollout" tabindex="-1">Rollout</button>
        </div>
        <div class="tab-panels">
          <article id="panel-problem" class="panel active" role="tabpanel" aria-labelledby="tab-problem">
            <h3>The challenge at XYZ Corp</h3>
            <ul>
              <li>Siloed product usage and CRM data led to reactive playbooks.</li>
              <li>Manual onboarding checklists extended cycle time and increased drop-off.</li>
              <li>Inconsistent health scores made forecasting expansions difficult.</li>
              <li>Time-consuming QBR prep (8+ hours per account) strained the CS team.</li>
            </ul>
            <p>These pain points were widespread across pods and regions, creating variability in customer experiences and preventing the CS organization from focusing on value creation. The data showed onboarding delays had downstream effects on activation rates, expansion opportunities, and retention.</p>
          </article>
          <article id="panel-solution" class="panel" role="tabpanel" aria-labelledby="tab-solution" hidden>
            <h3>The solution we implemented</h3>
            <ul>
              <li>Unified data model blending product, billing, and support signals in real-time.</li>
              <li>Automated onboarding journeys with milestone alerts and customer-facing status.</li>
              <li>Predictive health scoring to prioritize risk and upsell readiness.</li>
              <li>Auto-generated QBR decks with live metrics and one-click exports.</li>
            </ul>
            <button id="btnExpandSolution" class="btn btn-ghost" aria-expanded="false" aria-controls="solutionMore">Expand details</button>
            <div id="solutionMore" class="panel-box" hidden>
              <h4>Implementation details</h4>
              <p>We deployed connectors for product events, billing data, and ticketing systems. Data contracts ensured consistent schema for downstream analytics. A streamlined journey builder replaced manual checklists, with stage-gates monitored by alerts and SLAs. QBR generation aggregated KPIs directly from live sources, reducing the preparation burden.</p>
              <ul>
                <li>Data contracts: documented, versioned, and validated daily.</li>
                <li>Journey templates: reusable, localized across regions.</li>
                <li>Health model: trained on historical outcomes to identify risk clusters.</li>
                <li>Governance: role-based access and audit trails for all playbooks.</li>
              </ul>
            </div>
          </article>
          <article id="panel-rollout" class="panel" role="tabpanel" aria-labelledby="tab-rollout" hidden>
            <h3>Rollout and change management</h3>
            <ol>
              <li>Week 1–2: Integrations and data validation; pilot with two CS pods.</li>
              <li>Week 3–4: Playbook automation and stakeholder training.</li>
              <li>Week 5–6: Organization-wide go-live and executive dashboards.</li>
            </ol>
            <p class="muted">Change was supported with office hours, playbook templates, and in-app guides.</p>
          </article>
        </div>
        <div class="statusbar">
          <div class="status-item">Tab status: <strong id="tabStatus">Problem</strong></div>
        </div>
      </div>
    </section>

    <section id="testimonial" class="split section" aria-labelledby="testimonial-title">
      <article class="testimonial" aria-describedby="quoteText">
        <div class="row">
          <h3 id="testimonial-title" style="margin:0;">What XYZ Corp says</h3>
          <div class="stars" aria-label="5 out of 5 stars" title="5 out of 5 stars">★★★★★</div>
        </div>
        <blockquote id="quoteText">“We achieved 47% faster onboarding, our CS team finally operates proactively, and revenue followed with a 28% expansion uplift. The platform paid for itself in a quarter with 3.5× ROI.”</blockquote>
        <figure>
          <div class="avatar" aria-hidden="true">A</div>
          <figcaption>
            <strong>Ava Patel</strong>, VP of Operations, XYZ Corp <span class="muted">• Verified</span>
          </figcaption>
        </figure>
        <div style="display:flex; gap:12px; margin-top:12px;">
          <button id="btnCopyQuote" class="btn btn-ghost">
            Copy quote
          </button>
          <button id="btnSpeakQuote" class="btn">
            Play audio
          </button>
          <button id="btnOpenModalMid" class="btn btn-primary">Request deck</button>
        </div>
      </article>

      <aside class="calculator" aria-labelledby="calc-title">
        <h3 id="calc-title" style="margin:0 0 8px;">Quick ROI estimator</h3>
        <p class="muted">Estimate monthly savings from faster onboarding. Adjust inputs to match your scenario.</p>
        <div class="calc-row">
          <label for="roiAccounts" class="muted">Monthly new accounts</label>
          <input id="roiAccounts" type="range" min="5" max="250" value="60" />
          <div class="range-steps">
            <button id="roiAccountsMinus" class="btn">−</button>
            <button id="roiAccountsPlus" class="btn">+</button>
          </div>
          <div class="kpi"><span>Accounts</span><strong id="roiAccountsVal">60</strong></div>
        </div>
        <div class="calc-row">
          <label for="roiHours" class="muted">Hours saved per account</label>
          <input id="roiHours" type="range" min="1" max="10" value="4" />
          <div class="range-steps">
            <button id="roiHoursMinus" class="btn">−</button>
            <button id="roiHoursPlus" class="btn">+</button>
          </div>
          <div class="kpi"><span>Hours</span><strong id="roiHoursVal">4</strong></div>
        </div>
        <div class="calc-row">
          <label for="roiRate" class="muted">Fully-loaded hourly rate (USD)</label>
          <input id="roiRate" type="range" min="25" max="200" value="80" step="5" />
          <div class="range-steps">
            <button id="roiRateMinus" class="btn">−</button>
            <button id="roiRatePlus" class="btn">+</button>
          </div>
          <div class="kpi"><span>$/hour</span><strong id="roiRateVal">$80</strong></div>
        </div>
        <div class="kpi">
          <span>Estimated monthly savings</span>
          <strong id="roiOutputSavings">$19,200</strong>
        </div>
        <div class="kpi">
          <span>Estimated ROI (vs $2,000/mo)</span>
          <strong id="roiOutputRoi">9.6×</strong>
        </div>
        <div style="display:flex; gap:12px; align-items:center; margin-top:8px;">
          <button id="btnApplyROI" class="btn btn-primary">Apply</button>
          <span id="applyStatus" class="status-item">ROI apply: pending</span>
        </div>
        <p class="muted" style="font-size:12px;">Estimates only. Actual ROI varies by mix, margins, and volume.</p>
      </aside>
    </section>

    <section id="resources" class="section" aria-labelledby="resources-title">
      <h3 id="resources-title">More resources</h3>
      <div class="cards">
        <div class="card">
          <h4>Product overview</h4>
          <p class="muted">Understand the core modules and how they interoperate.</p>
          <button id="btnExpandResource1" class="btn btn-ghost" aria-expanded="false" aria-controls="resource1">Read summary</button>
          <div id="resource1" class="panel-box" hidden>
            <p>The platform unifies data ingestion, workflow automation, and analytics. It consists of modules for onboarding, adoption, expansion, and retention, providing a comprehensive lifecycle stack. Each module can be enabled independently, but gains compound value when orchestrated together.</p>
            <ul>
              <li>Data ingestion: near real-time streaming connectors.</li>
              <li>Automation: conditional logic and SLA tracking.</li>
              <li>Analytics: cohort views, trend analysis, executive dashboards.</li>
              <li>Governance: permissions, audit logs, and configuration history.</li>
            </ul>
          </div>
        </div>
        <div class="card">
          <h4>Playbook templates</h4>
          <p class="muted">Templates to accelerate onboarding and expansion workflows.</p>
          <button id="btnExpandResource2" class="btn btn-ghost" aria-expanded="false" aria-controls="resource2">Read summary</button>
          <div id="resource2" class="panel-box" hidden>
            <p>Templates include standardized milestone checklists for onboarding, touchpoint sequences for adoption, and opportunity triggers for expansion. They are configurable and versioned to match team standards, reducing manual steps and enforcing quality controls.</p>
          </div>
        </div>
        <div class="card">
          <h4>Architecture diagram</h4>
          <p class="muted">See how data flows and controls enforce reliability.</p>
          <button id="btnExpandResource3" class="btn btn-ghost" aria-expanded="false" aria-controls="resource3">Read summary</button>
          <div id="resource3" class="panel-box" hidden>
            <p>The architecture leverages scalable streaming pipelines, secure storage, and declarative workflows. Multi-region deployment ensures resilience, while role-based access prevents unauthorized changes. Observability includes error budgets, alerts, and SLO dashboards.</p>
          </div>
        </div>
      </div>
      <div class="statusbar">
        <div class="status-item">Resource expand: <strong id="resourceExpandStatus">idle</strong></div>
      </div>
    </section>

    <section id="customers" class="section" aria-labelledby="customers-title">
      <h3 id="customers-title">Trusted by</h3>
      <div class="panel-box">
        <p>Customer logos: FinPay, Ledger360, OmniBank, NextOps, ClearRoute, DataBridge, GridX. These brands represent a cross-section of industries where lifecycle automation delivers time-to-value improvements.</p>
        <button id="btnShowAllCustomers" class="btn btn-ghost" aria-expanded="false" aria-controls="customersMore">See all customers</button>
        <div id="customersMore" hidden>
          <ul>
            <li>FinPay — Payments platform</li>
            <li>Ledger360 — Financial software</li>
            <li>OmniBank — Banking solutions</li>
            <li>NextOps — Operations SaaS</li>
            <li>ClearRoute — Logistics management</li>
            <li>DataBridge — Data integration</li>
            <li>GridX — Energy analytics</li>
            <li>More brands across tech, finance, healthcare, and retail.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="security" class="section" aria-labelledby="security-title">
      <h3 id="security-title">Security and compliance</h3>
      <div class="panel-box">
        <p>We maintain robust security controls aligned to SOC 2 Type II and ISO 27001 practices, including encryption at rest and in transit, strict access controls, and comprehensive audit logging.</p>
        <button id="btnLearnSecurity" class="btn btn-ghost" aria-expanded="false" aria-controls="securityMore">Learn more</button>
        <div id="securityMore" hidden>
          <ul>
            <li>Encryption: TLS 1.2+ in transit, AES-256 at rest.</li>
            <li>Access: Role-based permissions, MFA enforcement.</li>
            <li>Auditing: Full configuration and event logs with retention policies.</li>
            <li>Privacy: Data minimization, regional processing options.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="outcomes" class="section" aria-labelledby="outcomes-title">
      <h3 id="outcomes-title">Before vs After outcomes</h3>
      <div class="panel-box">
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
          <div>
            <h4>Before</h4>
            <ul>
              <li>Onboarding cycle averaged 17 days.</li>
              <li>Manual checklists with inconsistent adoption.</li>
              <li>Expansion opportunities missed due to inconsistent health scores.</li>
              <li>QBR preparation required 8+ hours per account.</li>
            </ul>
          </div>
          <div>
            <h4>After</h4>
            <ul>
              <li>Onboarding reduced by 47% (to 9 days on average).</li>
              <li>Automated journeys with milestone tracking and alerts.</li>
              <li>Health scoring prioritized expansion readiness (+28% expansion uplift).</li>
              <li>Auto-generated QBRs reduced prep to minutes.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="cta" aria-label="Call to action">
      <div>
        <strong>Want the full case study deck?</strong>
        <p class="muted" style="margin:4px 0 0;">Get a copy with playbooks, dashboards, and lessons learned.</p>
      </div>
      <div style="display:flex; gap:12px; flex-wrap: wrap;">
        <button id="btnOpenModal2" class="btn btn-primary">Request deck</button>
        <button id="btnPrintPage" class="btn btn-ghost" title="Print or save as PDF">Print / Save PDF</button>
        <button id="btnFooterCTA" class="btn btn-primary">Talk to sales</button>
      </div>
    </section>

    <section class="section" aria-label="Appendix and FAQ">
      <div class="panel-box">
        <h3>Appendix</h3>
        <p>We include extended notes on deployment choices, data quality checks, and governance practices. The appendix is designed to provide implementation teams a practical guide to adapt these practices to their environment. The steps include planning, integration, validation, automation, and enablement.</p>
        <h4>Frequently asked questions</h4>
        <ul>
          <li>How long does typical deployment take? 4–8 weeks depending on integrations and change management.</li>
          <li>What teams are involved? Customer Success, Operations, RevOps, Product Analytics, and IT Security.</li>
          <li>How does pricing work? Platform fee with tiers plus optional professional services.</li>
          <li>Can we try a pilot? Yes, pilots can be scoped with clear success criteria.</li>
        </ul>
        <p>For deeper technical content, we provide detailed documentation on data contracts, schema evolution, and workflow configuration guidelines. Teams can start small with one module, then expand to additional lifecycle stages as value becomes evident.</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="foot-actions">
        <button id="btnShareLink" class="btn btn-ghost">Copy shareable link</button>
        <button id="btnBackToTop" class="btn btn-ghost">Back to top</button>
      </div>
      <p style="margin-top:12px;" class="muted">© <span id="yearNow"></span> Case Study — XYZ Corp. All rights reserved.</p>
    </div>
  </footer>

  <!-- Modal -->
  <div id="contactModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" hidden>
    <div id="modalOverlay" style="position: fixed; inset: 0; background: rgba(0,0,0,0.3);"></div>
    <div style="position: fixed; inset: 0; display:grid; place-items:center; padding: 20px;">
      <div style="width:min(560px, 96vw); background: var(--surface); border:1px solid var(--border);">
        <div style="display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid var(--border);">
          <h3 id="modalTitle" style="margin:0;">Request the full case study</h3>
          <button id="btnCloseModal" class="btn btn-ghost" aria-label="Close dialog">Close</button>
        </div>
        <form id="contactForm" style="padding: 16px;">
          <div style="display:grid; gap:12px;">
            <label for="inputName">Full name</label>
            <input id="inputName" type="text" required placeholder="Your name" style="width:100%; padding:10px 12px; border:1px solid var(--border); background: var(--elev); color: var(--text);" aria-describedby="errorName" aria-invalid="false"/>
            <div id="errorName" class="muted" role="alert"></div>

            <label for="inputEmail">Email</label>
            <input id="inputEmail" type="email" required placeholder="you@company.com" style="width:100%; padding:10px 12px; border:1px solid var(--border); background: var(--elev); color: var(--text);" aria-describedby="errorEmail" aria-invalid="false"/>
            <div id="errorEmail" class="muted" role="alert"></div>

            <label for="inputMsg">Use case (optional)</label>
            <textarea id="inputMsg" rows="3" placeholder="Tell us about your goals" style="width:100%; padding:10px 12px; border:1px solid var(--border); background: var(--elev); color: var(--text);" aria-describedby="errorMsg" aria-invalid="false"></textarea>
            <div id="errorMsg" class="muted" role="alert"></div>

            <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap: wrap;">
              <div class="muted" style="font-size:12px;">We’ll get back within one business day.</div>
              <button id="btnSubmitForm" class="btn btn-primary" type="submit" aria-disabled="false">
                Send request
              </button>
            </div>
            <div class="statusbar">
              <div class="status-item">Form ready: <strong id="formReadyStatus">no</strong></div>
              <div class="status-item">Submit button: <strong id="btnSubmitFormState">enabled</strong></div>
            </div>
            <div id="formStatus" class="muted" role="status" aria-live="polite"></div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Theme toggle: keep function name switchTheme
    function switchTheme(){
      const body = document.body;
      const key = 'theme-pref';
      const toggle = document.getElementById('toggleTheme');
      const current = body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      body.setAttribute('data-theme', current);
      toggle.setAttribute('aria-checked', current === 'light');
      try{ localStorage.setItem(key, current); }catch(e){}
    }
    (function(){
      const body = document.body;
      const key = 'theme-pref';
      const toggle = document.getElementById('toggleTheme');
      const saved = localStorage.getItem(key);
      if(saved){ body.setAttribute('data-theme', saved); toggle.setAttribute('aria-checked', saved === 'light'); }
      toggle.addEventListener('click', switchTheme);
      toggle.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); switchTheme(); }});
    })();

    // Scroll progress: keep function name update
    function update(){
      const bar = document.getElementById('scrollProgressInner');
      const doc = document.documentElement;
      const total = doc.scrollHeight - doc.clientHeight;
      const pct = total > 0 ? (doc.scrollTop / total) * 100 : 0;
      bar.style.width = pct + '%';
    }
    document.addEventListener('scroll', update, {passive:true});
    window.addEventListener('resize', update);
    update();

    // Metrics animation: keep animate and frame
    function animate(el){
      const doneAttr = el.getAttribute('data-done');
      if(doneAttr === 'true') return;
      el.setAttribute('data-done','true');
      const target = parseFloat(el.dataset.target);
      const suffix = el.dataset.suffix || '';
      const isFloat = String(target).includes('.');
      const duration = 1400;
      const start = performance.now();
      function frame(now){
        const t = Math.min(1, (now - start) / duration);
        const ease = 1 - Math.pow(1 - t, 3);
        const value = target * ease;
        el.textContent = (isFloat ? value.toFixed(1) : Math.round(value)) + suffix;
        if(t < 1) requestAnimationFrame(frame);
        else el.textContent = (isFloat ? target.toFixed(1) : Math.round(target)) + suffix;
      }
      requestAnimationFrame(frame);
    }
    (function(){
      const metrics = Array.from(document.querySelectorAll('.metric-value'));
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{ if(e.isIntersecting) animate(e.target); });
      }, {threshold: 0.4});
      metrics.forEach(m => io.observe(m));
    })();

    // Metric info toggles
    (function(){
      const pairs = [
        ['metricInfoBtn1','metricMore1'],
        ['metricInfoBtn2','metricMore2'],
        ['metricInfoBtn3','metricMore3']
      ];
      pairs.forEach(([btnId,panelId])=>{
        const btn = document.getElementById(btnId);
        const panel = document.getElementById(panelId);
        btn.addEventListener('click', ()=>{
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          panel.hidden = expanded;
        });
      });
    })();

    // Tabs with keyboard navigation: keep function name activate
    function activate(id){
      const tabs = Array.from(document.querySelectorAll('.tab-btn'));
      const panels = {
        'tab-problem': document.getElementById('panel-problem'),
        'tab-solution': document.getElementById('panel-solution'),
        'tab-rollout': document.getElementById('panel-rollout')
      };
      tabs.forEach(t=>{
        const selected = t.id === id;
        t.setAttribute('aria-selected', selected ? 'true' : 'false');
        t.tabIndex = selected ? 0 : -1;
        const panel = panels[t.id];
        if(panel){
          panel.classList.toggle('active', selected);
          panel.hidden = !selected;
        }
      });
      const tabStatus = document.getElementById('tabStatus');
      if(id === 'tab-problem') tabStatus.textContent = 'Problem';
      if(id === 'tab-solution') tabStatus.textContent = 'Solution';
      if(id === 'tab-rollout') tabStatus.textContent = 'Rollout';
      const hashMap = {
        'tab-problem': '#problem',
        'tab-solution': '#solution',
        'tab-rollout': '#rollout'
      };
      try{ history.pushState(null, '', hashMap[id]); }catch(e){ location.hash = hashMap[id]; }
    }
    (function(){
      const tabs = Array.from(document.querySelectorAll('.tab-btn'));
      tabs.forEach((tab, idx)=>{
        tab.addEventListener('click', ()=> activate(tab.id));
        tab.addEventListener('keydown', (e)=>{
          const i = tabs.indexOf(tab);
          if(e.key === 'ArrowRight'){ e.preventDefault(); activate(tabs[(i+1)%tabs.length].id); }
          if(e.key === 'ArrowLeft'){ e.preventDefault(); activate(tabs[(i-1+tabs.length)%tabs.length].id); }
          if(e.key === 'Home'){ e.preventDefault(); activate(tabs[0].id); }
          if(e.key === 'End'){ e.preventDefault(); activate(tabs[tabs.length-1].id); }
        });
      });
      // Expand solution details
      const btnExpandSolution = document.getElementById('btnExpandSolution');
      const solutionMore = document.getElementById('solutionMore');
      btnExpandSolution.addEventListener('click', ()=>{
        const expanded = btnExpandSolution.getAttribute('aria-expanded') === 'true';
        btnExpandSolution.setAttribute('aria-expanded', String(!expanded));
        solutionMore.hidden = expanded;
      });
    })();

    // Testimonial copy + speech: keep stopSpeech
    function stopSpeech(){
      const btnSpeak = document.getElementById('btnSpeakQuote');
      if(window.speechSynthesis){
        window.speechSynthesis.cancel();
      }
      btnSpeak.textContent = 'Play audio';
    }
    (function(){
      const btnCopy = document.getElementById('btnCopyQuote');
      const btnSpeak = document.getElementById('btnSpeakQuote');
      const quote = document.getElementById('quoteText');

      btnCopy.addEventListener('click', async ()=>{
        const text = quote.textContent.replace(/[“”]/g,'"');
        try{
          if(navigator.clipboard && navigator.clipboard.writeText){
            await navigator.clipboard.writeText(text);
          }else{
            const ta = document.createElement('textarea');
            ta.value = text; document.body.appendChild(ta); ta.select();
            document.execCommand('copy'); document.body.removeChild(ta);
          }
          btnCopy.textContent = 'Copied!';
          setTimeout(()=> btnCopy.textContent = 'Copy quote', 1400);
        }catch(e){
          btnCopy.textContent = 'Copy failed';
          setTimeout(()=> btnCopy.textContent = 'Copy quote', 1400);
        }
      });

      let utterance = null;
      btnSpeak.addEventListener('click', ()=>{
        if(!('speechSynthesis' in window)){ btnSpeak.textContent='Audio not supported'; return; }
        if(window.speechSynthesis.speaking){ stopSpeech(); return; }
        utterance = new SpeechSynthesisUtterance(quote.textContent);
        utterance.rate = 1.02; utterance.pitch = 1;
        utterance.onend = stopSpeech;
        btnSpeak.textContent = 'Stop audio';
        window.speechSynthesis.speak(utterance);
      });
    })();

    // ROI calculator: keep function name recalc
    function recalc(){
      const $ = id => document.getElementById(id);
      const accounts = $('roiAccounts');
      const hours = $('roiHours');
      const rate = $('roiRate');
      const vAccounts = $('roiAccountsVal');
      const vHours = $('roiHoursVal');
      const vRate = $('roiRateVal');
      const outSavings = $('roiOutputSavings');
      const outRoi = $('roiOutputRoi');
      const formatMoney = n => '$' + n.toLocaleString(undefined, {maximumFractionDigits:0});
      const formatX = n => n.toLocaleString(undefined, {maximumFractionDigits:1}) + '×';
      const a = +accounts.value, h = +hours.value, r = +rate.value;
      vAccounts.textContent = a;
      vHours.textContent = h;
      vRate.textContent = '$' + r;
      const savings = a * h * r; // monthly estimate
      outSavings.textContent = formatMoney(savings);
      const cost = 2000;
      outRoi.textContent = formatX(savings / cost);
    }
    (function(){
      const $ = id => document.getElementById(id);
      const accounts = $('roiAccounts');
      const hours = $('roiHours');
      const rate = $('roiRate');
      [accounts, hours, rate].forEach(i=> i.addEventListener('input', recalc));
      recalc();

      // Step buttons
      function stepRange(range, delta){
        const min = +range.min || 0;
        const max = +range.max || 100;
        const step = +range.step || 1;
        let val = +range.value;
        val = Math.min(max, Math.max(min, val + delta*step));
        range.value = val;
        recalc();
      }
      $('roiAccountsMinus').addEventListener('click', ()=> stepRange(accounts, -1));
      $('roiAccountsPlus').addEventListener('click', ()=> stepRange(accounts, +1));
      $('roiHoursMinus').addEventListener('click', ()=> stepRange(hours, -1));
      $('roiHoursPlus').addEventListener('click', ()=> stepRange(hours, +1));
      $('roiRateMinus').addEventListener('click', ()=> stepRange(rate, -1));
      $('roiRatePlus').addEventListener('click', ()=> stepRange(rate, +1));

      // Keyboard support for sliders
      [accounts, hours, rate].forEach(r=>{
        r.addEventListener('keydown', (e)=>{
          if(e.key === 'ArrowLeft' || e.key === 'ArrowDown'){ e.preventDefault(); stepRange(r, -1); }
          if(e.key === 'ArrowRight' || e.key === 'ArrowUp'){ e.preventDefault(); stepRange(r, +1); }
        });
      });

      // Explicit apply button + status proxy
      const applyBtn = $('btnApplyROI');
      const applyStatus = $('applyStatus');
      applyBtn.addEventListener('click', ()=>{
        recalc();
        applyStatus.textContent = 'ROI apply: done';
      });
    })();

    // CTA actions: share, print, back to top, year
    (function(){
      const btnPrint = document.getElementById('btnPrintPage');
      btnPrint.addEventListener('click', ()=> window.print());

      async function share(url, btn){
        try{
          if(navigator.share){
            await navigator.share({title: document.title, text: 'Customer Case Study — XYZ Corp', url});
            document.getElementById('shareStatus').textContent = 'shared';
          }else if(navigator.clipboard){
            await navigator.clipboard.writeText(url);
            document.getElementById('shareStatus').textContent = 'copied';
            btn.textContent = 'Link copied!';
            setTimeout(()=> btn.textContent = (btn.id === 'btnShareLink' ? 'Copy shareable link' : 'Share link'), 1400);
          }else{
            document.getElementById('shareStatus').textContent = 'unsupported';
          }
        }catch(e){
          document.getElementById('shareStatus').textContent = 'error';
        }
      }
      const btnShare = document.getElementById('btnShareLink');
      btnShare.addEventListener('click', async ()=> share(location.href, btnShare));
      const btnShareTop = document.getElementById('btnShareLinkTop');
      btnShareTop.addEventListener('click', async ()=> share(location.href, btnShareTop));
      const btnShareTopInline = document.getElementById('btnShareLinkTopInline');
      btnShareTopInline.addEventListener('click', async ()=> share(location.href, btnShareTopInline));

      const topBtn = document.getElementById('btnBackToTop');
      topBtn.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

      document.getElementById('yearNow').textContent = new Date().getFullYear();

      // Metrics CTA opens modal
      const btnMetricsCta = document.getElementById('btnMetricsCta');
      btnMetricsCta.addEventListener('click', ()=>{
        document.getElementById('metricsCtaStatus').textContent = 'Metrics CTA: clicked';
        open();
      });
    })();

    // Prepare sample download
    (function(){
      const btnPrep = document.getElementById('btnPrepareSample');
      const dl = document.getElementById('downloadSample');
      const status = document.getElementById('downloadStatus');
      btnPrep.addEventListener('click', ()=>{
        const content = 'XYZ Corp Case Study Sample\nKey outcomes: -47% onboarding, +28% expansion, 3.5x ROI.\nThis is a text sample for demonstration purposes.';
        const blob = new Blob([content], {type: 'text/plain'});
        const url = URL.createObjectURL(blob);
        dl.href = url;
        dl.setAttribute('aria-disabled','false');
        status.textContent = 'enabled';
      });
    })();

    // Modal handling with focus trap: keep function names focusables/open/close/trap
    function focusables(scope){
      return Array.from(scope.querySelectorAll('button, [href], input, textarea, select, [tabindex]:not([tabindex="-1"])'))
        .filter(el => !el.hasAttribute('disabled') && !el.getAttribute('aria-hidden'));
    }
    let lastFocused = null;
    function open(){
      const modal = document.getElementById('contactModal');
      const f = focusables(modal);
      lastFocused = document.activeElement;
      modal.hidden = false;
      document.body.style.overflow = 'hidden';
      if(f.length){ f[0].focus(); }
      document.addEventListener('keydown', trap);
      document.getElementById('modalOpenStatus').textContent = 'open';
    }
    function close(){
      const modal = document.getElementById('contactModal');
      modal.hidden = true;
      document.body.style.overflow = '';
      document.removeEventListener('keydown', trap);
      if(lastFocused) lastFocused.focus();
      document.getElementById('modalOpenStatus').textContent = 'closed';
    }
    function trap(e){
      const modal = document.getElementById('contactModal');
      if(e.key === 'Escape'){ e.preventDefault(); close(); }
      if(e.key === '